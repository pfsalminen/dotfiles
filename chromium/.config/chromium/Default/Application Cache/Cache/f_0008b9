yy.prototype.Bj=jP(70,function(){return V(this,2)});bI.prototype.Bj=jP(69,g("F"));Tfa.prototype.rq=jP(6,function(){return null!=F(this,5)});Um.prototype.rq=jP(5,function(){return null!=F(this,1)});bw.prototype.rq=jP(4,function(){return Sv(this,2)});function qDd(a){Eb(a,"google::")||(a="google::"+a);a=Nb(a);return Cl(Al(yl(xl(new wl,"https"),"plx.corp.google.com"),"/script/"),"a=qo|i="+a).toString()}
function rDd(){var a='<div class="'+Q("waffle-dataconnector-bigquery-consent-screen-content")+'"><p>';a=a+"Sheets requires authorization to connect to your BigQuery projects."+('</p><div class="'+Q("waffle-dataconnector-bigquery-consent-screen-authorize-button-wrapper")+'"></div></div>');return P(a)}function sDd(){var a='<div class="'+Q("waffle-dataconnector-footer-sharing-message")+'">';return P(a+"Your authentication credentials are always private and never shared with another user.</div>")};function tDd(){var a=P,b='<div class="'+Q("waffle-dataconnector-modal-header")+'"><div class="'+Q("waffle-dataconnector-modal-title")+'"></div><div class="'+Q("waffle-dataconnector-modal-close-button")+'" tabindex="0" role="button">';var c=P('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><path d="M0,0 L18,0 L18,18 L0,18 L0,0 Z M0,0 L18,0 L18,18 L0,18 L0,0 Z"/><polygon fill="#000" points="14.53 4.53 13.47 3.47 9 7.94 4.53 3.47 3.47 4.53 7.94 9 3.47 13.47 4.53 14.53 9 10.06 13.47 14.53 14.53 13.47 10.06 9"/></g></svg>');
return a(b+c+'</div></div><div class="'+Q("waffle-dataconnector-modal-body")+'"></div><div class="'+Q("waffle-dataconnector-modal-footer")+'"></div>')};function Q1(a,b){a=void 0===a?"":a;zq.call(this,!1,b);this.Mb=a;this.C=new pr(void 0,uDd.getInstance());this.Qa(this.C);this.yb=null}q(Q1,zq);p=Q1.prototype;p.Ma=function(){zq.prototype.Ma.call(this);Hh(this.getElement(),"waffle-dataconnector-modal");this.Mb&&Hh(this.getElement(),this.Mb);kr(this.getElement(),tDd);var a=this.Gs();Hh(a,"waffle-dataconnector-modal-bg");L(a,!0);this.C.Ab(this.$a("waffle-dataconnector-modal-close-button"));this.yb&&vDd(this)};
p.Wa=function(){zq.prototype.Wa.call(this);this.getHandler().R(this.C,"action",this.p8);this.getHandler().R(this.qb(),"keydown",this.JOb)};p.Qb=function(){return this.Kb("waffle-dataconnector-modal-body")};function wDd(a){return a.Kb("waffle-dataconnector-modal-footer")}function xDd(a,b){a.yb=b;a.Sb()&&vDd(a)}p.p8=function(){l6a.$b()};p.t8=function(){l6a.$b()};p.JOb=function(a){27==a.keyCode?this.t8():9==a.keyCode&&a.shiftKey&&a.target==this.getElement()&&WCa(this)};
function vDd(a){Ki.getInstance().setContent(a.$a("waffle-dataconnector-modal-title"),a.yb)}function uDd(){}q(uDd,nr);uDd.prototype.vp=n("waffle-dataconnector-modal-close-button");ta(uDd);function R1(a,b){Q1.call(this,a,b);this.H=rf()}q(R1,Q1);p=R1.prototype;p.getResult=function(){return this.H.C};p.resolve=function(a){this.H.resolve(a)};p.reject=function(a){this.H.reject(a)};p.Pa=function(){Q1.prototype.Pa.call(this);this.H.reject()};p.t8=function(){this.reject()};p.p8=function(){this.reject()};function yDd(a){R1.call(this,"waffle-dataconnector-bigquery-consent-screen",a);xDd(this,"Authorize");this.D=new IU("Authorize");this.Qa(this.D);this.D.Od("waffle-dataconnector-bigquery-consent-screen-authorize-button")}q(yDd,R1);yDd.prototype.Ma=function(){R1.prototype.Ma.call(this);kr(this.Qb(),rDd);kr(wDd(this),sDd);this.D.render(this.$a("waffle-dataconnector-bigquery-consent-screen-authorize-button-wrapper"))};
yDd.prototype.Wa=function(){var a=this;R1.prototype.Wa.call(this);this.getHandler().R(this.D,"action",function(){return a.resolve(!0)})};yDd.prototype.t8=function(){this.resolve(!1)};yDd.prototype.p8=function(){this.resolve(!1)};function S1(){T.call(this)}x(S1,T);var zDd=null;S1.prototype.Ax=function(){return Sv(this,1)};function T1(){T.call(this)}x(T1,T);var ADd=null;T1.prototype.Ax=function(){return Sv(this,1)};T1.prototype.Jn=function(){return V(this,2)};T1.prototype.$R=function(){return Sv(this,2)};function U1(){T.call(this)}x(U1,T);var BDd=null;U1.prototype.getName=function(){return V(this,1)};U1.prototype.Re=function(a){W(this,1,a)};function V1(){T.call(this)}x(V1,T);var CDd=null;p=V1.prototype;
p.Ib=function(){return V(this,1)};p.og=function(){return Sv(this,1)};p.lq=function(){return V(this,2)};p.getColumnIndex=function(){return V(this,3)};p.Iv=function(){return Xv(this,3)};function W1(){T.call(this)}x(W1,T);var DDd=null;S1.prototype.Ba=function(){var a=zDd;a||(zDd=a=Yv(S1,{0:{name:"PlxQuery",Bb:"ritzproto.PlxQuery"},1:{name:"query",va:9,type:String},2:{name:"engine",va:9,type:String},3:{name:"script_id",va:9,type:String}}));return a};S1.Ba=S1.prototype.Ba;
T1.prototype.Ba=function(){var a=ADd;a||(ADd=a=Yv(T1,{0:{name:"BigQueryQuery",Bb:"ritzproto.BigQueryQuery"},1:{name:"query",va:9,type:String},2:{name:"project_id",va:9,type:String}}));return a};T1.Ba=T1.prototype.Ba;U1.prototype.Ba=function(){var a=BDd;a||(BDd=a=Yv(U1,{0:{name:"QueryParameter",Bb:"ritzproto.QueryParameter"},1:{name:"name",va:9,type:String},2:{name:"constant_value",va:9,type:String},3:{name:"workbookrange_id",va:9,type:String},4:{name:"cell_coordinate",va:11,type:V1}}));return a};
U1.Ba=U1.prototype.Ba;V1.prototype.Ba=function(){var a=CDd;a||(CDd=a=Yv(V1,{0:{name:"CellCoordinate",Bb:"ritzproto.CellCoordinate"},1:{name:"sheet_id",va:9,type:String},2:{name:"row_index",va:5,type:Number},3:{name:"column_index",va:5,type:Number}}));return a};V1.Ba=V1.prototype.Ba;
W1.prototype.Ba=function(){var a=DDd;a||(DDd=a=Yv(W1,{0:{name:"QueryProto",Bb:"ritzproto.QueryProto"},1:{name:"sql_query",va:9,type:String},2:{name:"plx_query",va:11,type:S1},4:{name:"bigquery_query",va:11,type:T1},3:{name:"parameters",mc:!0,va:11,type:U1}}));return a};W1.Ba=W1.prototype.Ba;var EDd={pGc:0,Mvc:1,gzc:2,yac:3,CDc:4};function X1(){T.call(this)}x(X1,T);var FDd=null;X1.prototype.getName=function(){return V(this,1)};X1.prototype.Re=function(a){W(this,1,a)};function Y1(){T.call(this)}x(Y1,T);var GDd=null;p=Y1.prototype;p.getId=function(){return V(this,1)};p.In=function(){return Xv(this,1)};p.Ef=function(a){W(this,1,a)};p.getType=function(){return V(this,2)};p.setType=function(a){W(this,2,a)};function Z1(){T.call(this)}x(Z1,T);var HDd=null;function $1(){T.call(this)}x($1,T);
var IDd=null;$1.prototype.rq=function(){return Sv(this,3)};function a2(){T.call(this)}x(a2,T);var JDd=null;a2.prototype.Ax=function(){return Sv(this,2)};function b2(){T.call(this)}x(b2,T);var KDd=null;b2.prototype.Bj=function(){return V(this,1)};b2.prototype.Ib=function(){return V(this,3)};b2.prototype.og=function(){return Sv(this,3)};function c2(){T.call(this)}x(c2,T);var LDd=null;c2.prototype.Ax=function(){return Sv(this,2)};c2.prototype.getToken=function(){return V(this,4)};
c2.prototype.setToken=function(a){W(this,4,a)};function d2(){T.call(this)}x(d2,T);var MDd=null;d2.prototype.Bj=function(){return V(this,1)};function e2(){T.call(this)}x(e2,T);var NDd=null;e2.prototype.rJ=function(a){Uv(this,2,a)};function ODd(){T.call(this)}x(ODd,T);var PDd=null;function f2(){T.call(this)}x(f2,T);var QDd=null;f2.prototype.Ib=function(){return V(this,1)};f2.prototype.og=function(){return Sv(this,1)};function g2(){T.call(this)}x(g2,T);var RDd=null;
g2.prototype.Bj=function(){return V(this,1)};function h2(){T.call(this)}x(h2,T);var SDd=null;h2.prototype.Jn=function(){return V(this,2)};h2.prototype.$R=function(){return Sv(this,2)};function i2(){T.call(this)}x(i2,T);var TDd=null;i2.prototype.rq=function(){return Sv(this,2)};function j2(){T.call(this)}x(j2,T);var UDd=null;j2.prototype.getName=function(){return V(this,1)};j2.prototype.Re=function(a){W(this,1,a)};j2.prototype.Jn=function(){return V(this,3)};function VDd(a,b){W(a,3,b)}
j2.prototype.$R=function(){return Sv(this,3)};function k2(){T.call(this)}x(k2,T);var WDd=null;k2.prototype.Ax=function(){return Sv(this,2)};function l2(){T.call(this)}x(l2,T);var XDd=null;l2.prototype.Bj=function(){return V(this,1)};function YDd(){T.call(this)}x(YDd,T);var ZDd=null;function m2(){T.call(this)}x(m2,T);var $Dd=null;p=m2.prototype;p.getId=function(){return V(this,1)};p.In=function(){return Xv(this,1)};p.Ef=function(a){W(this,1,a)};p.getName=function(){return V(this,2)};
p.Re=function(a){W(this,2,a)};function n2(){T.call(this)}x(n2,T);var aEd=null;function o2(){T.call(this)}x(o2,T);var bEd=null;o2.prototype.rq=function(){return Sv(this,2)};function p2(){T.call(this)}x(p2,T);var cEd=null;p2.prototype.Jn=function(){return V(this,2)};p2.prototype.$R=function(){return Sv(this,2)};function q2(){T.call(this)}x(q2,T);var dEd=null;q2.prototype.rq=function(){return Sv(this,2)};function eEd(){T.call(this)}x(eEd,T);var fEd=null;function r2(){T.call(this)}x(r2,T);var gEd=null;
r2.prototype.rq=function(){return Sv(this,2)};function s2(){T.call(this)}x(s2,T);var hEd=null;p=s2.prototype;p.getId=function(){return V(this,1)};p.In=function(){return Xv(this,1)};p.Ef=function(a){W(this,1,a)};p.getName=function(){return V(this,2)};p.Re=function(a){W(this,2,a)};function iEd(){T.call(this)}x(iEd,T);var jEd=null;function t2(){T.call(this)}x(t2,T);var kEd=null;t2.prototype.Ax=function(){return Sv(this,2)};function lEd(){T.call(this)}x(lEd,T);var mEd=null;
function u2(){T.call(this)}x(u2,T);var nEd=null;u2.prototype.Bj=function(){return V(this,1)};X1.prototype.Ba=function(){var a=FDd;a||(FDd=a=Yv(X1,{0:{name:"CreateConnectionRequest",Bb:"ritzproto.CreateConnectionRequest"},1:{name:"name",va:9,type:String},2:{name:"connection_type",va:14,defaultValue:0,type:OUa},3:{name:"jdbc_connection_info",va:11,type:Z1}}));return a};X1.Ba=X1.prototype.Ba;
Y1.prototype.Ba=function(){var a=GDd;a||(GDd=a=Yv(Y1,{0:{name:"ImportConnectionRequest",Bb:"ritzproto.ImportConnectionRequest"},1:{name:"id",va:9,type:String},2:{name:"type",va:14,defaultValue:0,type:OUa}}));return a};Y1.Ba=Y1.prototype.Ba;
Z1.prototype.Ba=function(){var a=HDd;a||(HDd=a=Yv(Z1,{0:{name:"JdbcConnectionInfo",Bb:"ritzproto.JdbcConnectionInfo"},1:{name:"database_type",va:14,defaultValue:0,type:EDd},2:{name:"hostname",va:9,type:String},3:{name:"db_name",va:9,type:String},4:{name:"username",va:9,type:String},5:{name:"password",va:9,type:String},6:{name:"use_ssl",va:8,type:Boolean},7:{name:"client_key",va:9,type:String},8:{name:"client_cert",va:9,type:String},9:{name:"server_ca",va:9,type:String},10:{name:"jdbc_url",va:9,type:String}}));
return a};Z1.Ba=Z1.prototype.Ba;$1.prototype.Ba=function(){var a=IDd;a||(IDd=a=Yv($1,{0:{name:"CreateConnectionResponse",Bb:"ritzproto.CreateConnectionResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"connection_id",va:9,type:String},3:{name:"error_code",va:14,defaultValue:0,type:PUa},4:{name:"error_text",va:9,type:String}}));return a};$1.Ba=$1.prototype.Ba;
a2.prototype.Ba=function(){var a=JDd;a||(JDd=a=Yv(a2,{0:{name:"CreateQueryRequest",Bb:"ritzproto.CreateQueryRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"query",va:11,type:W1}}));return a};a2.Ba=a2.prototype.Ba;b2.prototype.Ba=function(){var a=KDd;a||(KDd=a=Yv(b2,{0:{name:"CreateQueryResponse",Bb:"ritzproto.CreateQueryResponse"},1:{name:"execution_status",va:11,type:bw},2:{name:"query_id",va:9,type:String},3:{name:"sheet_id",va:9,type:String}}));return a};b2.Ba=b2.prototype.Ba;
c2.prototype.Ba=function(){var a=LDd;a||(LDd=a=Yv(c2,{0:{name:"PreviewQueryRequest",Bb:"ritzproto.PreviewQueryRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"query",va:11,type:W1},3:{name:"max_rows",va:5,type:Number},4:{name:"token",va:9,type:String},5:{name:"dry_run",va:8,type:Boolean}}));return a};c2.Ba=c2.prototype.Ba;
d2.prototype.Ba=function(){var a=MDd;a||(MDd=a=Yv(d2,{0:{name:"PreviewQueryResponse",Bb:"ritzproto.PreviewQueryResponse"},1:{name:"execution_status",va:11,type:bw},2:{name:"query_result",va:11,type:e2},3:{name:"total_rows",va:5,type:Number},4:{name:"has_more",va:8,type:Boolean}}));return a};d2.Ba=d2.prototype.Ba;
e2.prototype.Ba=function(){var a=NDd;a||(NDd=a=Yv(e2,{0:{name:"QueryResult",Bb:"ritzproto.QueryResult"},1:{name:"column_names",mc:!0,va:9,type:String},2:{name:"rows",mc:!0,va:11,type:ODd}}));return a};e2.Ba=e2.prototype.Ba;ODd.prototype.Ba=function(){var a=PDd;a||(PDd=a=Yv(ODd,{0:{name:"QueryResultRow",Bb:"ritzproto.QueryResultRow"},1:{name:"formatted_values",mc:!0,va:11,type:iw}}));return a};ODd.Ba=ODd.prototype.Ba;
f2.prototype.Ba=function(){var a=QDd;a||(QDd=a=Yv(f2,{0:{name:"RefreshSheetRequest",Bb:"ritzproto.RefreshSheetRequest"},1:{name:"sheet_id",va:9,type:String}}));return a};f2.Ba=f2.prototype.Ba;g2.prototype.Ba=function(){var a=RDd;a||(RDd=a=Yv(g2,{0:{name:"RefreshSheetResponse",Bb:"ritzproto.RefreshSheetResponse"},1:{name:"execution_status",va:11,type:bw}}));return a};g2.Ba=g2.prototype.Ba;
h2.prototype.Ba=function(){var a=SDd;a||(SDd=a=Yv(h2,{0:{name:"GetTablesRequest",Bb:"ritzproto.GetTablesRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"project_id",va:9,type:String},3:{name:"schema_name",va:9,type:String}}));return a};h2.Ba=h2.prototype.Ba;
i2.prototype.Ba=function(){var a=TDd;a||(TDd=a=Yv(i2,{0:{name:"GetTablesResponse",Bb:"ritzproto.GetTablesResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"error_code",va:14,defaultValue:0,type:PUa},3:{name:"error_text",va:9,type:String},4:{name:"tables",mc:!0,va:11,type:j2}}));return a};i2.Ba=i2.prototype.Ba;
j2.prototype.Ba=function(){var a=UDd;a||(UDd=a=Yv(j2,{0:{name:"Table",Bb:"ritzproto.Table"},1:{name:"name",va:9,type:String},2:{name:"schema",va:9,type:String},3:{name:"project_id",va:9,type:String}}));return a};j2.Ba=j2.prototype.Ba;k2.prototype.Ba=function(){var a=WDd;a||(WDd=a=Yv(k2,{0:{name:"EditQueryRequest",Bb:"ritzproto.EditQueryRequest"},1:{name:"query_id",va:9,type:String},2:{name:"query",va:11,type:W1}}));return a};k2.Ba=k2.prototype.Ba;
l2.prototype.Ba=function(){var a=XDd;a||(XDd=a=Yv(l2,{0:{name:"EditQueryResponse",Bb:"ritzproto.EditQueryResponse"},1:{name:"execution_status",va:11,type:bw}}));return a};l2.Ba=l2.prototype.Ba;YDd.prototype.Ba=function(){var a=ZDd;a||(ZDd=a=Yv(YDd,{0:{name:"ListConnectionsResponse",Bb:"ritzproto.ListConnectionsResponse"},1:{name:"connections",mc:!0,va:11,type:m2}}));return a};YDd.Ba=YDd.prototype.Ba;
m2.prototype.Ba=function(){var a=$Dd;a||($Dd=a=Yv(m2,{0:{name:"Connection",Bb:"ritzproto.Connection"},1:{name:"id",va:9,type:String},2:{name:"name",va:9,type:String},3:{name:"connection_type",va:14,defaultValue:0,type:OUa},4:{name:"jdbc_connection_info",va:11,type:Z1}}));return a};m2.Ba=m2.prototype.Ba;n2.prototype.Ba=function(){var a=aEd;a||(aEd=a=Yv(n2,{0:{name:"GetColumnsRequest",Bb:"ritzproto.GetColumnsRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"table",va:11,type:j2}}));return a};
n2.Ba=n2.prototype.Ba;o2.prototype.Ba=function(){var a=bEd;a||(bEd=a=Yv(o2,{0:{name:"GetColumnsResponse",Bb:"ritzproto.GetColumnsResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"error_code",va:14,defaultValue:0,type:PUa},3:{name:"error_text",va:9,type:String},4:{name:"column_names",mc:!0,va:9,type:String}}));return a};o2.Ba=o2.prototype.Ba;
p2.prototype.Ba=function(){var a=cEd;a||(cEd=a=Yv(p2,{0:{name:"GetDatasetsRequest",Bb:"ritzproto.GetDatasetsRequest"},1:{name:"connection_id",va:9,type:String},2:{name:"project_id",va:9,type:String}}));return a};p2.Ba=p2.prototype.Ba;
q2.prototype.Ba=function(){var a=dEd;a||(dEd=a=Yv(q2,{0:{name:"GetDatasetsResponse",Bb:"ritzproto.GetDatasetsResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"error_code",va:14,defaultValue:0,type:PUa},3:{name:"error_text",va:9,type:String},4:{name:"dataset_names",mc:!0,va:9,type:String}}));return a};q2.Ba=q2.prototype.Ba;
eEd.prototype.Ba=function(){var a=fEd;a||(fEd=a=Yv(eEd,{0:{name:"GetBigQueryProjectsRequest",Bb:"ritzproto.GetBigQueryProjectsRequest"},1:{name:"connection_id",va:9,type:String}}));return a};eEd.Ba=eEd.prototype.Ba;
r2.prototype.Ba=function(){var a=gEd;a||(gEd=a=Yv(r2,{0:{name:"GetBigQueryProjectsResponse",Bb:"ritzproto.GetBigQueryProjectsResponse"},1:{name:"success",va:8,type:Boolean},2:{name:"error_code",va:14,defaultValue:0,type:PUa},3:{name:"error_text",va:9,type:String},4:{name:"projects",mc:!0,va:11,type:s2}}));return a};r2.Ba=r2.prototype.Ba;
s2.prototype.Ba=function(){var a=hEd;a||(hEd=a=Yv(s2,{0:{name:"BigQueryProject",Bb:"ritzproto.BigQueryProject"},1:{name:"id",va:9,type:String},2:{name:"name",va:9,type:String}}));return a};s2.Ba=s2.prototype.Ba;iEd.prototype.Ba=function(){var a=jEd;a||(jEd=a=Yv(iEd,{0:{name:"GetQueryRequest",Bb:"ritzproto.GetQueryRequest"},1:{name:"query_id",va:9,type:String}}));return a};iEd.Ba=iEd.prototype.Ba;
t2.prototype.Ba=function(){var a=kEd;a||(kEd=a=Yv(t2,{0:{name:"GetQueryResponse",Bb:"ritzproto.GetQueryResponse"},1:{name:"found",va:8,type:Boolean},2:{name:"query",va:11,type:W1}}));return a};t2.Ba=t2.prototype.Ba;lEd.prototype.Ba=function(){var a=mEd;a||(mEd=a=Yv(lEd,{0:{name:"GetExecutionStatusRequest",Bb:"ritzproto.GetExecutionStatusRequest"},1:{name:"query_id",va:9,type:String}}));return a};lEd.Ba=lEd.prototype.Ba;
u2.prototype.Ba=function(){var a=nEd;a||(nEd=a=Yv(u2,{0:{name:"GetExecutionStatusResponse",Bb:"ritzproto.GetExecutionStatusResponse"},1:{name:"execution_status",va:11,type:bw}}));return a};u2.Ba=u2.prototype.Ba;function oEd(a,b){b=void 0===b?"":b;this.C=[];for(var c=0;c<a.length;c++)this.C.push(a[c].clone());this.D=b};function pEd(){return P('<div class="'+Q("waffle-dataconnector-bigqueryquerysettingsdialog-project-section")+'"><div class="'+Q("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-wrapper")+'"></div></div>')}
function qEd(){var a='<div class="'+Q("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-footer-sharing-message")+'">';return P(a+"The data you query is visible to everyone with view access, but your query is only visible to people with edit access.</div>")};function rEd(a,b){R1.call(this,"waffle-dataconnector-bigqueryquerysettingsdialog",b);xDd(this,"BigQuery query settings");this.D=new rU;this.Qa(this.D);this.D.Od("waffle-dataconnector-bigqueryquerysettingsdialog-project-select");this.D.setContent("Billing project");b=a.C;for(var c=0;c<b.length;c++){var d=b[c];this.D.Fd(new Ek(d.getName(),d.getId()))}this.F=new IU("Create Query");this.Qa(this.F);this.F.Od("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button");this.L=a.C}q(rEd,R1);
rEd.prototype.Ma=function(){R1.prototype.Ma.call(this);kr(this.Qb(),pEd);kr(wDd(this),qEd);this.D.render(this.$a("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-wrapper"));this.F.render(this.$a("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button-wrapper"))};rEd.prototype.Wa=function(){R1.prototype.Wa.call(this);this.getHandler().R(this.F,"action",this.O).R(this.D,"change",this.J);this.J()};rEd.prototype.J=function(){this.F.ib(null!=this.D.bf())};rEd.prototype.O=function(){this.resolve(sEd(this))};
function sEd(a){var b=a.D.bf().fb();return new oEd(a.L,b)};function tEd(){this.C=null;this.Zc=new $v}tEd.prototype.Pf=ca("C");function uEd(a,b){a.Zc.Lh=!0;var c=Vl(a.Zc.serialize(b));return new lf(function(b,e){Tu(Vs(Sm(Ev(Ws(a.C.$e("/dbx/createConnection"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(c){a.Zc.Lh=!1;c=a.Zc.zd($1.Ba(),c.yf());c.rq()?e(c):b(c)}),function(){var a=new $1;W(a,1,!1);W(a,3,1);e(a)}).De()})}
function vEd(a,b){a.Zc.Lh=!0;var c=Vl(a.Zc.serialize(b));return new lf(function(b,e){Tu(Vs(Sm(Ev(Ws(a.C.$e("/dbx/createQuery"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(c){a.Zc.Lh=!1;c=a.Zc.zd(b2.Ba(),c.yf());3==c.Bj().getState()?e(c):b(c)}),function(){var a=new b2,b=new bw;W(a,1,b);b.Pb(3);W(b,2,1);e(a)}).De()})}
function wEd(a,b){a.Zc.Lh=!0;var c=Vl(a.Zc.serialize(b));return new lf(function(b,e){Tu(Vs(Sm(Ev(Ws(a.C.$e("/dbx/importConnection"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(){b()}),function(){e()}).De()})}
function xEd(a,b){a.Zc.Lh=!0;var c=a.Zc.serialize(b);return V(V(b,2),4)?yEd("dbx:previewQuery",c).then(function(b){a.Zc.Lh=!0;b=a.Zc.zd(d2.Ba(),b.result);return 3==b.Bj().getState()?of(b):b},function(){var a=new d2,b=new bw;W(a,1,b);b.Pb(3);W(b,2,1);return of(a)}):new lf(function(b,e){zEd(a,"/dbx/previewQuery",c,function(c){a.Zc.Lh=!1;c=a.Zc.zd(d2.Ba(),c.yf());3==c.Bj().getState()?e(c):b(c)},function(){var a=new d2,b=new bw;W(a,1,b);b.Pb(3);W(b,2,1);e(a)})})}
function AEd(a,b){a.Zc.Lh=!0;var c=Vl(a.Zc.serialize(b));return new lf(function(b,e){Tu(Vs(Sm(Ev(Ws(a.C.$e("/dbx/refreshSheet"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(c){a.Zc.Lh=!1;c=a.Zc.zd(g2.Ba(),c.yf());3==c.Bj().getState()?e(c):b(c)}),function(){var a=new g2,b=new bw;W(a,1,b);b.Pb(3);W(b,2,1);e(a)}).De()})}
function BEd(a,b){a.Zc.Lh=!0;var c=Vl(a.Zc.serialize(b));return new lf(function(b,e){Tu(Vs(Sm(Ev(Ws(a.C.$e("/dbx/editQuery"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(c){a.Zc.Lh=!1;c=a.Zc.zd(l2.Ba(),c.yf());3==c.Bj().getState()?e(c):b(c)}),function(){var a=new l2,b=new bw;W(a,1,b);b.Pb(3);W(b,2,1);e(a)}).De()})}
function CEd(a){return new lf(function(b,c){Tu(Vs(Sm(Ev(Ws(a.C.$e("/dbx/listConnections"),"GET")),1).setTimeout(3E4).Ff(["currentWorkbookOnly",!0]),function(c){a.Zc.Lh=!1;c=a.Zc.zd(YDd.Ba(),c.yf());b(c)}),c).De()})}
function DEd(a,b){a.Zc.Lh=!0;var c=Vl(a.Zc.serialize(b));return new lf(function(b,e){Tu(Vs(Sm(Ev(Ws(a.C.$e("/dbx/getTables"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(c){a.Zc.Lh=!1;c=a.Zc.zd(i2.Ba(),c.yf());c.rq()?e(c):b(c)}),function(){var a=new i2;W(a,1,!1);W(a,2,1);e(a)}).De()})}
function EEd(a,b){a.Zc.Lh=!0;var c=Vl(a.Zc.serialize(b));return new lf(function(b,e){Tu(Vs(Sm(Ev(Ws(a.C.$e("/dbx/getColumns"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(c){a.Zc.Lh=!1;c=a.Zc.zd(o2.Ba(),c.yf());c.rq()?e(c):b(c)}),function(){var a=new o2;W(a,1,!1);W(a,2,1);e(a)}).De()})}
function FEd(a,b){a.Zc.Lh=!0;var c=Vl(a.Zc.serialize(b));return new lf(function(b,e){Tu(Vs(Sm(Ev(Ws(a.C.$e("/dbx/getQuery"),"POST")),1).setTimeout(3E4).setContent(["data",c]),function(c){a.Zc.Lh=!1;c=a.Zc.zd(t2.Ba(),c.yf());b(c)}),e).De()})}function GEd(a,b){a.Zc.Lh=!0;b=a.Zc.serialize(b);return yEd("dbx:getBigQueryProjects",b).then(function(b){a.Zc.Lh=!0;b=a.Zc.zd(r2.Ba(),b.result);return b.rq()?of(b):b},function(){var a=new r2;W(a,1,!1);W(a,2,1);return of(a)})}
function HEd(a,b){a.Zc.Lh=!0;b=a.Zc.serialize(b);return yEd("dbx:getDatasets",b).then(function(b){a.Zc.Lh=!0;b=a.Zc.zd(q2.Ba(),b.result);return b.rq()?of(b):b},function(){var a=new q2;W(a,1,!1);W(a,2,1);return of(a)})}function zEd(a,b,c,d,e){Tu(Vs(Sm(Ev(Ws(a.C.$e(b),"POST")),1).setTimeout(3E4).setContent(["data",Vl(c)]),d),e).De()}
function yEd(a,b){var c=rA.getInstance(),d=c.C.gaiaSessionId;d&&gapi.config.update("googleapis.config/sessionIndex",d);gapi.config.update("googleapis.config/auth/useFirstPartyAuth",!0);gapi.config.update("googleapis.config/auth/useFirstPartyAuthV2",!0);d=H();var e="https://"+uh(d,"rfpd");c=c.C.cosmoId;b=Vl([c,b]);gapi.client.setApiKey(uh(d,"rfpak"));return gapi.client.request({method:"POST",root:e,path:"v4/spreadsheets/"+c+"/"+a,body:b,params:{alt:"protojson"},headers:{"Content-Type":"application/json+protobuf"}})}
tEd.prototype.Bj=function(a){var b=this;this.Zc.Lh=!0;var c=this.Zc.serialize(a);return new lf(function(a,e){zEd(b,"/dbx/getExecutionStatus",c,function(c){b.Zc.Lh=!1;c=b.Zc.zd(u2.Ba(),c.yf());a(c)},function(){e()})})};ta(tEd);function IEd(a,b){this.D=a;this.C=b}function JEd(a,b,c){var d=new h2;W(d,1,a.C);W(d,2,b);W(d,3,c);return DEd(a.D,d).then(function(a){return Wv(a,4)})}function KEd(a,b){var c=new n2;W(c,1,a.C);W(c,2,b);return EEd(a.D,c).then(function(a){return Wv(a,4)})}function LEd(a,b){var c=new p2;W(c,2,b);W(c,1,a.C);return HEd(a.D,c).then(function(a){return Wv(a,4)})}function MEd(a){var b=new eEd;W(b,1,a.C);return GEd(a.D,b).then(function(a){return Wv(a,4)})};function v2(a,b){Aq.call(this,"waffle-dataconnector-prompt",a,b);this.L=rf();Qq(this,null);Pq(this,!0);this.C=new KU("Continue");this.Qa(this.C);this.J=new JU("Cancel");this.Qa(this.J);this.O=[]}q(v2,Aq);p=v2.prototype;p.Od=function(a){this.O.push(a);var b=this.getElement();b&&Hh(b,a)};p.getResult=function(){return this.L.C};p.resolve=function(a){this.L.resolve(a)};p.reject=function(){this.L.reject()};
p.Ma=function(){Aq.prototype.Ma.call(this);var a=Jq(this);this.J.render(a);this.C.render(a);L(a,!0)};p.Wa=function(){var a=this;Aq.prototype.Wa.call(this);for(var b=ha(this.O),c=b.next();!c.done;c=b.next())Hh(this.qb(),c.value);this.getHandler().R(this.J,"action",function(){return a.reject()})};p.setVisible=function(a){Aq.prototype.setVisible.call(this,a);a||this.reject()};p.Pa=function(){Aq.prototype.Pa.call(this);this.reject()};function NEd(a,b){v2.call(this,a,b)}q(NEd,v2);NEd.prototype.Wa=function(){var a=this;v2.prototype.Wa.call(this);this.getHandler().R(this.C,"action",function(){return a.resolve(0)})};function OEd(a){var b='<div class="'+Q("waffle-dataconnector-connectionconfirmationscreen-content")+'"><div class="'+Q("waffle-dataconnector-connectionconfirmationscreen-access-security")+'" tabindex="0"><h3>';b+="Access &amp; security.";var c="";c=a.dOa?c+"<p>Plx is an internal-only connection that's visible only to Googlers.</p><p>People outside of google.com will see Plx as an unnamed connection.":c+"<p>Database passwords and user IDs are not shared amongst collaborators.";c=P(c+"</p>");b+="</h3>"+
c+'</div><div class="'+Q("waffle-dataconnector-connectionconfirmationscreen-data-visibility")+'" tabindex="0"><h3>';b+="Who can see data &amp; queries";c="<p>Users who can view the spreadsheet will be able to see the data.</p>";c=a.dOa?c+"<p>Google users who can edit the spreadsheet will be able to view and modify the query.</p><p>Users outside of google.com who can view the spreadsheet will be able to view the data, but will not be able to view or refresh the query.":c+"<p>Users who can edit the spreadsheet can view and modify the query only after they've signed into the database.";
a=P(c+"</p>");return P(b+("</h3>"+a+"</div></div>"))};function PEd(){return P('<div class="'+Q("waffle-dataconnector-dialog-progress-message")+'"><div class="'+Q("waffle-dataconnector-dialog-progress-label")+'"></div><div class="'+Q("waffle-dataconnector-dialog-progress-bar")+'"></div></div>')};function QEd(a){jQ.call(this,a);this.D=!1}q(QEd,jQ);QEd.prototype.Ma=function(){jQ.prototype.Ma.call(this);Hh(this.getElement(),"waffle-progress-bar");Lh(this.getElement(),"waffle-indeterminate-progress-bar",this.D)};function REd(a,b){a.D!=b&&(a.D=b,a.getElement()&&Lh(a.getElement(),"waffle-indeterminate-progress-bar",b))}QEd.prototype.mb=function(a){REd(this,!1);jQ.prototype.mb.call(this,a)};
function SEd(a,b){REd(a,!1);var c={width:a.fb()+"%"},d={width:b+"%"};c=new ar(a.$a("progress-bar-thumb"),1,c,d,{Cg:"width",duration:1,timing:"ease-in",Xl:0});c.Wc("end",function(){jQ.prototype.mb.call(a,b)});c.play()};function w2(a,b){Aq.call(this,"waffle-dataconnector-dialog",a,b);Qq(this,null);this.Jz(!1);Pq(this,!0);this.rb=[];this.Cb=new KU("Ok");this.Qa(this.Cb);this.sb=new JU("Cancel");this.Qa(this.sb);this.yb=new lj;this.Mb=Kj(new Jj,1).build();this.Ob=this.qa().Ma("DIV","waffle-dataconnector-dialog-error-message");this.Rb=this.qa().Ma("DIV","waffle-dataconnector-dialog-info-message");this.gc=N(PEd);this.L=new QEd;REd(this.L,!0);this.Qa(this.L)}q(w2,Aq);function TEd(a,b,c){rj(a.yb,a.Cb,b,tj,c,a.Mb)}
function UEd(a){rj(a.yb,a.sb,l6a,tj,void 0,a.Mb)}function VEd(a){var b=["waffle-dataconnector-queryeditor"];a.Sb()&&(Kh(a.qb(),a.rb),Ih(a.qb(),b));a.rb=b}
w2.prototype.Ma=function(){Aq.prototype.Ma.call(this);Ih(this.qb(),this.rb);var a=Jq(this),b=this.qa().Ma("DIV","waffle-dataconnector-dialog-button-wrapper");a.appendChild(b);this.sb.render(b);this.Cb.render(b);L(a,!0);b=this.qa().Ma("DIV","waffle-dataconnector-dialog-message-container",this.Ob,this.Rb,this.gc);a.appendChild(b);this.L.render(this.$a("waffle-dataconnector-dialog-progress-bar"));kr($Ca(this),WHc)};
w2.prototype.Wa=function(){Aq.prototype.Wa.call(this);x2(this);Ah(this.Ob,"live","polite");Ah(this.Rb,"live","polite");Ah(this.gc,"live","polite")};w2.prototype.Jz=function(a){Aq.prototype.Jz.call(this,a);Lq(this,this.oK?0:.6)};function WEd(a,b){a=a.$a("waffle-dataconnector-dialog-error-message");td(a,b||nd(""));L(a,!!b)}function XEd(a,b){a=a.$a("waffle-dataconnector-dialog-info-message");td(a,b||nd(""));L(a,!!b)}
function YEd(a,b,c){se(a.$a("waffle-dataconnector-dialog-progress-label"),b);null!=c&&SEd(a.L,c);L(a.$a("waffle-dataconnector-dialog-progress-message"),!0)}function x2(a){WEd(a,null);XEd(a,null);a.L.mb(0);REd(a.L,!0);L(a.$a("waffle-dataconnector-dialog-progress-message"),!1)};function ZEd(a,b,c,d){w2.call(this,c,d);Bq(this,"Connected");this.F=a;this.C=b;UEd(this);TEd(this,q6a)}q(ZEd,w2);ZEd.prototype.Ma=function(){w2.prototype.Ma.call(this);kr(this.Qb(),OEd,{dOa:2==this.C})};function $Ed(a){return P('<div class="'+Q("waffle-dataconnector-connectioncard")+'" role="button" tab-index="0"><div class="'+Q("waffle-dataconnector-connectioncard-icon")+'"></div><div class="'+Q("waffle-dataconnector-connectioncard-body")+'"><div class="'+Q("waffle-dataconnector-connectioncard-header")+'">'+O(a.yP)+"</div></div></div>")};function aFd(a,b,c,d){this.Lc=a;this.D=b;this.Hc=c;this.C=d}aFd.prototype.getName=g("D");aFd.prototype.getId=g("Lc");aFd.prototype.getType=g("Hc");function bFd(){this.Hc=this.Lc=this.D=null;this.C=!1}bFd.prototype.Re=function(a){this.D=a;return this};bFd.prototype.Ef=function(a){this.Lc=a;return this};bFd.prototype.setType=function(a){this.Hc=a;return this};function cFd(a){a.C=!0;return a}bFd.prototype.build=function(){return new aFd(this.Lc,this.D,this.Hc,this.C)};function dFd(){}q(dFd,nr);dFd.prototype.Ma=function(a){a=a.ub();var b=N($Ed,{yP:a.getName()});Lh(b,"waffle-dataconnector-connectioncard-authenticated",a.C);return b};dFd.prototype.xc=n("waffle-dataconnector-connectioncard");ta(dFd);function eFd(a,b){pr.call(this,void 0,dFd.getInstance(),b);this.Qc(a);this.kf(8,!0)}q(eFd,pr);eFd.prototype.Qc=function(a){pr.prototype.Qc.call(this,a)};function fFd(){return P('<div class="'+Q("waffle-dataconnector-connectionmanager-content")+'"><div class="'+Q("waffle-dataconnector-connectionmanager-connections")+'"><div class="'+Q("waffle-dataconnector-connectionmanager-authorized")+'"></div></div></div>')};function gFd(a,b){w2.call(this,a,b);Bq(this,"Managed connections");this.C=new Tr;this.xa(this.C);this.F=new M(this.qa());this.Qa(this.F);this.J=new UT;this.Qa(this.J);TEd(this,zB);UEd(this)}q(gFd,w2);gFd.prototype.Ma=function(){w2.prototype.Ma.call(this);kr(this.Qb(),fFd)};
gFd.prototype.Wa=function(){w2.prototype.Wa.call(this);this.J.render(this.$a("waffle-dataconnector-connectionmanager-content"));this.F.Ab(this.$a("waffle-dataconnector-connectionmanager-connections"));this.getHandler().R(this.F,"action",this.O).R(this.C,"select",this.ma);hFd(this,!0)};function hFd(a,b){Lh(a.qb(),"waffle-dataconnector-connectionmanager-loading",b);VT(a.J,b)}
function iFd(a,b){var c=a.$a("waffle-dataconnector-connectionmanager-authorized");b=ha(b);for(var d=b.next();!d.done;d=b.next())d=new eFd(d.value),a.F.Qa(d),d.render(c)}gFd.prototype.O=function(a){a.stopPropagation();Ur(this.C,a.target)};gFd.prototype.ma=function(){var a=(a=(a=this.C.bf())&&a)&&a.ub();zB.mb(a)};function jFd(a){var b='<div class="'+Q("waffle-dataconnector-bar")+'"><div class="'+Q("waffle-dataconnector-bar-header")+'" tabindex="0" aria-label="',c="Data connection: "+Q(a.yP);b+=zr(c);b+='">'+O(a.yP)+'</div><div class="'+Q("waffle-dataconnector-bar-editquery-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-bar-error-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-bar-timestamp")+'" tabindex="0"></div><div class="'+Q("waffle-dataconnector-bar-refresh-button-wrapper")+
'"></div><div class="'+Q("waffle-dataconnector-bar-progress")+'"><div class="'+Q("waffle-dataconnector-bar-spinner")+'"></div><span class="'+Q("waffle-dataconnector-bar-progress-message")+'"></span></div></div>';return P(b)};function kFd(){return P('<svg class="waffle-dataconnector-close-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><path d="M0,0 L18,0 L18,18 L0,18 L0,0 Z M0,0 L18,0 L18,18 L0,18 L0,0 Z"/><polygon fill="#000" points="14.53 4.53 13.47 3.47 9 7.94 4.53 3.47 3.47 4.53 7.94 9 3.47 13.47 4.53 14.53 9 10.06 13.47 14.53 14.53 13.47 10.06 9"/></g></svg>')}
function lFd(){return P('<svg class="waffle-dataconnector-refresh-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M17.65,7.35 C16.2,5.9 14.21,5 12,5 C7.58,5 4.01,8.58 4.01,13 C4.01,17.42 7.58,21 12,21 C15.73,21 18.84,18.45 19.73,15 L17.65,15 C16.83,17.33 14.61,19 12,19 C8.69,19 6,16.31 6,13 C6,9.69 8.69,7 12,7 C13.66,7 15.14,7.69 16.22,8.78 L13,12 L20,12 L20,5 L17.65,7.35 Z" id="dataconnector-refresh-icon-path-1"></path></defs><g id="icons/refresh" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group" transform="translate(0.000000, -1.000000)"><rect id="Rectangle" x="0" y="1" width="24" height="24"></rect><mask id="dataconnector-refresh-icon-mask-2" fill="white"><use xlink:href="#dataconnector-refresh-icon-path-1"></use></mask><use id="Shape" fill="#4285F4" fill-rule="nonzero" xlink:href="#dataconnector-refresh-icon-path-1"></use><g id="colors/Black---100" mask="url(#dataconnector-refresh-icon-mask-2)" fill="#000000"><polygon id="Shape" points="0 0 24 0 24 24 0 24"></polygon></g></g></g></svg>')}
function mFd(a){a=a||{};a=a.color;a='<svg class="waffle-dataconnector-error-icon-filled" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M9,13 L11,13 L11,15 L9,15 L9,13 Z M9,5 L11,5 L11,11 L9,11 L9,5 Z M9.99,0 C4.47,0 0,4.48 0,10 C0,15.52 4.47,20 9.99,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 9.99,0 Z" id="dataconnector-error-filled-icon-path-1"></path></defs><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon/error-filled"><g id="ic_error_outline_24px" transform="translate(2.000000, 2.000000)"><mask id="dataconnector-error-filled-icon-mask-2" fill="white"><use xlink:href="#dataconnector-error-filled-icon-path-1"></use></mask><g id="Shape" fill-rule="nonzero"></g><g id="colors/Red" mask="url(#dataconnector-error-filled-icon-mask-2)" fill="'+
Q(null==a?"#D0021B":a)+'"><g transform="translate(-2.000000, -2.000000)" id="Shape"><polygon points="0 0 24 0 24 24 0 24"></polygon></g></g></g></g></g></svg>';return P(a)};function nFd(a,b,c){MU.call(this,c);this.V=a;this.H=new lj;this.xa(this.H);this.Na=b;this.C=new LU;this.Qa(this.C);this.C.Od("waffle-dataconnector-bar-editquery-button");rj(this.H,this.C,wB,tj);this.O=new LU;this.Qa(this.O);this.O.Od("waffle-dataconnector-bar-refresh-button");rj(this.H,this.O,yB,tj);this.D=new LU(this.qa().Ma("SPAN",void 0,N(mFd,{color:"#FF8897"}),"Error in query execution"));this.Qa(this.D);this.D.Od("waffle-dataconnector-bar-error-button");rj(this.H,this.D,p6a);this.Aa=new oFd}
q(nFd,MU);nFd.prototype.zta=function(){return N(jFd,{yP:Tb(this.V,64)})};nFd.prototype.Wa=function(){MU.prototype.Wa.call(this);this.C.render(this.$a("waffle-dataconnector-bar-editquery-button-wrapper"));this.O.render(this.$a("waffle-dataconnector-bar-refresh-button-wrapper"));this.D.render(this.$a("waffle-dataconnector-bar-error-button-wrapper"));pFd(this,!1,!1)};nFd.prototype.zja=n("waffle-dataconnector-bar-wrapper");nFd.prototype.focus=function(){this.qb().focus()};
function qFd(a,b){pFd(a,!0,!1);null!=b?(b="Executing query - "+(b+"%"),se(a.$a("waffle-dataconnector-bar-progress-message"),b)):se(a.$a("waffle-dataconnector-bar-progress-message"),"Executing query")}
function pFd(a,b,c){Lh(a.qb(),"waffle-dataconnector-bar-executing",b);wB.isEnabled()&&wB.setVisible(!b);yB.isEnabled()&&yB.setVisible(!b);p6a.isEnabled()&&p6a.setVisible(!b&&c);L(a.$a("waffle-dataconnector-bar-timestamp"),!b);if(!(b||(c=ritz_api.DbxApi.getExecutionEndTimeForQuery(a.Na),0>=c))){c="Last refreshed "+a.Aa.format(c);var d=a.$a("waffle-dataconnector-bar-timestamp");se(d,c)}L(a.$a("waffle-dataconnector-bar-progress"),b)}
function oFd(){this.C=new It(1);this.D=new It(Lt.MONTH_DAY_MEDIUM);this.F=new It(7)}oFd.prototype.format=function(a){a=new Date(a);var b=new Date;b=0<b.getFullYear()-a.getFullYear()?this.C.format(a):a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()?"Today":this.D.format(a);a=this.F.format(a);return b+(", "+a)};function rFd(){A.call(this);this.C={};this.Zc=new $v}q(rFd,A);function sFd(a,b,c,d,e,f){NU.call(this,"waffle-connectionbar-id",f);var h=this;aIc(this,function(){h.C.setVisible(!0,!0);NP()});this.H=a;this.L=b;this.D=c;this.J=d;this.F=e}q(sFd,NU);p=sFd.prototype;p.Ib=g("L");p.Ru=function(){NU.prototype.Ru.call(this);this.getHandler().R(this.F,"Nb",this.LFb);this.YB()};p.show=function(){NU.prototype.show.call(this);tFd(this)};
function tFd(a){var b=a.J;var c=a.D;var d=ritz_api.DbxApi.getExecutionStatusForQuery(c);d=null==d?null:b.Zc.zd(bw.Ba(),d);var e=b.C[c];e?d&&e.getToken()==d.getToken()?(vc(b.C,c),b=d):b=e:b=d;if(b)switch(b.getState()){case 4:qFd(a.C);break;case 1:qFd(a.C,V(b,5));break;case 2:pFd(a.C,!1,!1);break;case 3:pFd(a.C,!1,!0)}}p.OQ=function(){return new nFd(this.H,this.D)};p.LFb=function(a){this.isDisposed()||a.Fh!=VA(this.F.C)||tFd(this)};function uFd(a,b,c){b=c||b;return P('<div class="'+Q("waffle-dataconnector-draggablebar")+'">'+vFd(null,b)+"</div>")}function vFd(){return P('<div class="'+Q("waffle-dataconnector-draggablebar-handle")+'" tabindex="0"><div class="'+Q("waffle-dataconnector-draggablebar-handle-icon")+'"></div></div>')};function wFd(a,b){M.call(this,b);this.D=a;this.Tc=this.F=null;this.H=new hk;this.xa(this.H);this.H.Rd(this);this.C=0}q(wFd,M);p=wFd.prototype;p.Ma=function(){this.wb=N(uFd)};p.$c=function(a){this.wb=a;Hh(this.qb(),"waffle-dataconnector-draggablebar");kr(a,vFd)};
p.Wa=function(){this.F=this.$a("waffle-dataconnector-draggablebar-handle");this.Tc=new vq(this.qb(),this.F);this.xa(this.Tc);this.Tc.C=!0;ik(this.H,this.F);this.getHandler().R(this.Tc,"start",this.LOb).R(this.Tc,"drag",this.hQb).R(this.Tc,"end",this.KOb);"vertical"==this.D?(ni(this.qb(),8),Hh(this.qb(),"waffle-dataconnector-draggablebar-vertical")):(oi(this.qb(),8),Hh(this.qb(),"waffle-dataconnector-draggablebar-horizontal"))};p.jd=n(8);p.ib=function(a){this.Tc.ib(a)};
p.LOb=function(){wq(this.Tc,xFd(this));this.dispatchEvent("De")};p.hQb=function(a){this.C="vertical"==this.D?a.left:a.top;this.dispatchEvent("Be")};p.KOb=function(){this.dispatchEvent("Ce")};function xFd(a){var b=a.qb().parentElement.getBoundingClientRect(),c=b.height;b=b.width;"horizontal"==a.D?(b=0,c-=a.jd()):(c=0,b-=a.jd());return new Th(0,0,b,c)};function yFd(a,b,c){switch(a){case 1:a:switch(b){case 2:a=y2("Can't connect. Review login information and database name then try again.",c);break a;case 5:a=y2("Review database or table and try again",c);break a;default:a=zFd(b,c)}return a;case 2:a:switch(b){case 9:a=new yp;b=a.ue("span",{"class":"waffle-dataconnector-error-message"})+("Go to Plx to specify an engine other than 'Auto' and try again. "+(a.ue("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",
target:"_blank"})+("Learn more"+(a.ye("a")+a.ye("span")))));a=a.format(b);break a;case 2:a=c?AFd(c):BFd(null);break a;default:a=zFd(b,c)}return a;case 3:a:switch(b){case 18:a=y2("The query returns an ARRAY or a STRUCT type, which is currently not supported.","");break a;case 2:a=c?AFd(c):BFd(null);break a;default:a=zFd(b,c)}return a}}
function CFd(a){var b=new yp;a=(new Rt("To execute this query, {startLink}sign in to your Google account{endLink}")).format({startLink:b.ue("a",{href:"#",id:a}),endLink:b.ye("a")});return b.format(a)}
function zFd(a,b){switch(a){case 4:return y2("Review query and try again",b);case 3:return y2("Can't connect. Host not available.",b);case 6:return J(H(),"docs-idu")?(a=new yp,b=a.ue("span",{"class":"waffle-dataconnector-error-message"})+("Query timed out. "+(a.ue("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",target:"_blank"})+("Learn more"+(a.ye("a")+a.ye("span"))))),a=a.format(b)):a=y2("Query timed out",b),a;case 8:return J(H(),"docs-idu")?(a=new yp,
b=a.ue("span",{"class":"waffle-dataconnector-error-message"})+("Results exceed "+(DFd+(" rows. Update query and run again. "+(a.ue("a",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/error-messages",target:"_blank"})+("Learn more"+(a.ye("a")+a.ye("span"))))))),a=a.format(b)):a=y2(EFd,b),a;default:return BFd(b)}}function BFd(a){return y2("Something's wrong. Please try again later.",a)}var DFd=(new Ot(1)).format(1E4),EFd="Results exceed "+(DFd+" rows. Update query and run again.");
function y2(a,b){var c=new yp,d=c.ue("span",{"class":"waffle-dataconnector-error-message"});d+=c.ue("span",{"class":"waffle-dataconnector-error-message-main"});d=d+a+c.ye("span");b&&(d=d+": "+c.ue("span",{"class":"waffle-dataconnector-error-message-detail"}),d=d+b+c.ye("span"));d+=c.ye("span");return c.format(d)}
function AFd(a){var b=new yp,c=b.ue("span",{"class":"waffle-dataconnector-error-message"});c+=b.ue("span",{"class":"waffle-dataconnector-error-message-detail"});c=c+a+b.ye("span");c+=b.ye("span");return b.format(c)};function FFd(){var a='<div class="'+Q("waffle-dataconnector-textarea-editor")+'"><div class="'+Q("waffle-dataconnector-textarea-editor-textareawrapper")+'"><div class="'+Q("waffle-dataconnector-textarea-editor-overlay")+'"><div class="'+Q("waffle-dataconnector-textarea-editor-overlay-message")+'"></div></div><textarea class="'+Q("waffle-dataconnector-textarea-editor-textarea")+'" spellcheck="false" aria-label="';a+=zr("Enter your query");a+='"></textarea><div class="'+Q("waffle-dataconnector-textarea-editor-linegutter")+
'"></div></div></div>';return P(a)};function z2(a){M.call(this,a);this.Xd=!0}q(z2,M);z2.prototype.J=function(){this.dispatchEvent("Fe")};z2.prototype.ib=function(a){a!=this.Xd&&(this.Xd=a,this.Sb()&&GFd(this))};z2.prototype.isEnabled=g("Xd");function HFd(a,b){a=void 0===a?"":a;z2.call(this,b);this.F=this.C=null;this.H=new UT;this.Qa(this.H);this.D=a}q(HFd,z2);HFd.prototype.Ma=function(){this.wb=N(FFd)};
HFd.prototype.Wa=function(){var a=this;z2.prototype.Wa.call(this);this.C=this.$a("waffle-dataconnector-textarea-editor-textarea");this.C.value=this.D;this.F=new Js(this.C);this.xa(this.F);this.getHandler().R(this.C,"focus",function(){return IFd(a,!0)}).R(this.C,"blur",function(){return IFd(a,!1)}).R(this.F,"input",this.J);this.H.render(this.$a("waffle-dataconnector-textarea-editor-textareawrapper"));GFd(this);JFd(this,!1)};
function GFd(a){a.C.disabled=!a.isEnabled();Lh(a.qb(),"waffle-dataconnector-textarea-editor-disabled",!a.isEnabled());VT(a.H,!1)}function KFd(a){return a.Sb()?a.C.value:a.D}function JFd(a,b){L(a.$a("waffle-dataconnector-textarea-editor-overlay"),b)}function IFd(a,b){Lh(a.qb(),"waffle-dataconnector-textarea-editor-focused",b)}function LFd(a,b){a.Sb()?(a.C.value=b,GFd(a)):a.D=b};function MFd(a){M.call(this,a);this.F=this.qa().Ma("DIV","waffle-dataconnector-dialog-error-message");this.H=this.qa().Ma("DIV","waffle-dataconnector-dialog-info-message");this.J=N(PEd);this.C=new QEd;REd(this.C,!0);this.Qa(this.C);this.D=!0}q(MFd,M);MFd.prototype.Ma=function(){this.wb=this.qa().Ma("DIV","waffle-dataconnector-dialog-message-container",this.F,this.H,this.J);this.C.render(this.$a("waffle-dataconnector-dialog-progress-bar"))};
MFd.prototype.Wa=function(){M.prototype.Wa.call(this);A2(this);Ah(this.F,"live","polite");Ah(this.H,"live","polite");Ah(this.J,"live","polite")};function NFd(a,b){var c=a.$a("waffle-dataconnector-dialog-error-message");A2(a);td(c,b||nd(""));L(c,!!b)}function A2(a){var b=a.$a("waffle-dataconnector-dialog-error-message");td(b,nd(""));L(b,!1);b=a.$a("waffle-dataconnector-dialog-info-message");td(b,nd(""));L(b,!1);a.C.mb(0);REd(a.C,!0);L(a.$a("waffle-dataconnector-dialog-progress-message"),!1)}
MFd.prototype.isVisible=g("D");MFd.prototype.setVisible=function(a){this.D=a;this.Sb()&&L(this.qb(),this.D)};function OFd(){return P('<div class="'+Q("waffle-dataconnector-newqueryeditor-content")+'"><div class="'+Q("waffle-dataconnector-newqueryeditor-main")+'"><div class="'+Q("waffle-dataconnector-newqueryeditor-editor-pane")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-resize-bar")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-pane")+'"><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-canvas-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-overlay")+
'"><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-overlay-text")+'"></div></div></div></div><div class="'+Q("waffle-dataconnector-newqueryeditor-sidebar")+'"></div></div>')}
function PFd(){return P('<div class="'+Q("waffle-dataconnector-newqueryeditor-footer")+'"><div class="'+Q("waffle-dataconnector-newqueryeditor-preview-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-message-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-newqueryeditor-insert-button-wrapper")+'"></div></div>')};function QFd(){var a='<div class="'+Q("waffle-dataconnector-query-parameter-prompt-input-container")+'"></div><div class="'+Q("waffle-dataconnector-query-parameter-prompt-toggle-row")+'"><div class="'+Q("waffle-dataconnector-query-parameter-prompt-toggle-label")+'">';return P(a+"Reference cell</div></div>")};function RFd(a){OU.apply(this,arguments)}q(RFd,OU);RFd.prototype.fb=function(){return this.C.fb()};RFd.prototype.t1=function(a){this.C.mb(a);return!0};function SFd(a){Q1.call(this,"waffle-dataconnector-query-parameter-prompt",a);xDd(this,"Query Parameter");this.L=null;this.J=new KU;this.Qa(this.J);this.J.Od("waffle-dataconnector-query-parameter-prompt-primary-button");this.H=new RFd("text","Name","float","",void 0);this.Qa(this.H);this.H.Od("waffle-dataconnector-query-parameter-prompt-name-field");this.H.Na=!0;this.H.ma=this.eXa;this.D=new RFd("text","Value","float","",void 0);this.Qa(this.D);this.D.Od("waffle-dataconnector-query-parameter-prompt-value-field");
this.D.Na=!0;this.D.ma=this.fXa;a=this.qa();this.O=new pr(N(aGc),Li(nr,"waffle-dataconnector-query-parameter-prompt-rangepicker"),a);a=this.D;var b=this.O;C(a.Aa);a.Aa=b;a.Sb()&&a.Aa&&a.Aa.render(a.$a("waffle-material-labeledinput-embeddedcontrol"));this.F=new bQ;this.Qa(this.F);this.F.Od("waffle-dataconnector-query-parameter-prompt-cell-reference-toggle")}q(SFd,Q1);p=SFd.prototype;p.Re=function(a){this.H.mb(a)};p.mb=function(a){this.D.mb(a)};p.getName=function(){return this.H.fb()};p.fb=function(){return this.D.fb()};
p.clear=function(){this.H.mb("");this.D.mb("");PU(this.H,!1);PU(this.D,!1);this.F.Bc(!1)};p.Ma=function(){Q1.prototype.Ma.call(this);kr(this.Qb(),QFd);this.H.render(this.$a("waffle-dataconnector-query-parameter-prompt-input-container"));this.D.render(this.$a("waffle-dataconnector-query-parameter-prompt-input-container"));var a=this.$a("waffle-dataconnector-query-parameter-prompt-toggle-label");Ei(this.F,a);wxc(this.F,a);this.J.render(wDd(this))};
p.Wa=function(){var a=this;Q1.prototype.Wa.call(this);L(this.Gs(),!1);this.getHandler().R(this.J,"action",this.ICb).R(this.F,"change",this.upa).R(this.O,"action",function(){return a.dispatchEvent("He")});wxc(this.F,this.$a("waffle-dataconnector-query-parameter-prompt-toggle-label"))};p.Ej=function(a){this.L=new Qj(a,0)};p.Cd=function(){this.L?this.L.Cd(this.getElement(),0):Q1.prototype.Cd.call(this)};
p.ICb=function(a){a.stopPropagation();(a=this.eXa(this.H.fb()))&&PU(this.H,!0,a);var b=this.fXa(this.D.fb());b&&PU(this.D,!0,b);a||b||this.dispatchEvent("Ge")};p.upa=function(){var a=this.F.isChecked()?"Cell reference":"Value";this.D.setContent(a);this.O.setVisible(this.F.isChecked())};p.eXa=function(a){return Kb(a)?"Parameter name is required":null};p.fXa=function(a){return Kb(a)?"Parameter value is required":null};p.t8=function(){this.dispatchEvent("Ie")};p.p8=function(){this.dispatchEvent("Ie")};function B2(a,b){M.call(this,b);this.J=new oU(a,this.qa());this.Qa(this.J)}q(B2,M);p=B2.prototype;p.Yd=function(a){this.J.getHeader().Bc(a)};p.setContent=function(a){this.J.setContent(a)};p.Qb=function(){return this.J.Qb()};p.Ma=function(){this.wb=this.qa().Ma("DIV","waffle-dataconnector-queryeditor-collapsible-sidebar-widget");this.J.render(this.qb())};p.Wa=function(){M.prototype.Wa.call(this);this.getHandler().R(this,["aftershow","afterhide"],function(a){return a.stopPropagation()})};function TFd(){return P('<div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget")+'"><div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget-chip-container")+'"></div><div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button-wrapper")+'"></div></div>')}
function UFd(a){var b=P,c='<div class="'+Q("waffle-dataconnector-queryeditor-queryparameterwidget-header")+'">';var d=P('<svg class="waffle-dataconnector-query-parameters-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M11.5294118,5.01960784 L11.2941176,4.2745098 C10.9411765,3.21568627 10.1176471,1.33333333 7.80392157,0 L1.80392157,1.96078431 L2.11764706,2.90196078 C3.60784314,2.31372549 3.88235294,2.31372549 4.15686275,2.31372549 C5.68627451,2.31372549 6.47058824,3.64705882 7.29411765,5.88235294 L8.58823529,9.45098039 L6.19607843,13.254902 C5.09803922,14.9803922 4.70588235,15.5686275 4.2745098,15.5686275 C3.56862745,15.5686275 4.19607843,13.8039216 2.35294118,13.8039216 C0.784313725,13.8039216 0,14.8235294 0,16.0784314 C0,17.3333333 1.09803922,18.4313725 3.05882353,18.4313725 C5.64705882,18.4313725 7.1372549,16.4705882 8.15686275,14.745098 L9.56862745,12.3137255 L10.7058824,15.254902 C11.254902,16.7058824 12,18.4313725 14.3137255,18.4313725 C16.745098,18.4313725 18.1568627,15.9215686 18.9803922,12.745098 L18.0392157,12.745098 C17.2156863,15.2156863 16.5490196,15.4117647 15.8823529,15.4117647 C15.0980392,15.4117647 14.8627451,14.0392157 14.5882353,13.2941176 L12.6666667,7.88235294 L14.5098039,4.78431373 C15.2156863,3.60784314 15.4509804,3.21568627 16,3.21568627 C16.5490196,3.21568627 16.3921569,4.54901961 17.5686275,4.54901961 C19.8039216,4.54901961 20,2.82352941 20,1.96078431 C20,1.05882353 19.0196078,0 17.1764706,0 C14.9411765,0 13.254902,2.35294118 12.3921569,3.68627451 L11.5294118,5.01960784 Z" id="dataconnector-parameters-icon-path"></path></defs><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon/parameters"><g id="Group" transform="translate(2.000000, 3.000000)"><mask id="dataconnector-parameters-icon-mask-2" fill="white"><use xlink:href="#dataconnector-parameters-icon-path"></use></mask><g id="\ud835\udc99"></g><g id="colors/Black---100" mask="url(#dataconnector-parameters-icon-mask-2)" fill="#000000"><g transform="translate(-2.857143, -4.285714)" id="Shape"><polygon points="0 0 26 0 26 26 0 26"></polygon></g></g></g></g></g></svg>');return b(c+
O(d)+"<div>"+O(a.title)+"</div></div>")}function VFd(a){return P('<span class="'+Q("waffle-dataconnector-queryparameterchip-content")+'"><span class="'+Q("waffle-dataconnector-queryparameterchip-name")+'">'+O(a.name)+':</span>&nbsp;<span class="'+Q("waffle-dataconnector-queryparameterchip-value")+'">'+O(a.value)+"</span></span>")};function C2(a,b){M.call(this,b);this.C=new pr(a,WFd.getInstance(),this.qa());this.Qa(this.C,!0);this.D=new pr(N(kFd),XFd.getInstance(),this.qa());this.Qa(this.D,!0)}q(C2,M);C2.prototype.Ma=function(){this.wb=this.qa().Ma("DIV","waffle-dataconnector-queryeditor-removable-chip")};C2.prototype.Wa=function(){var a=this;M.prototype.Wa.call(this);this.getHandler().R(this.C,"action",function(b){b.stopPropagation();a.dispatchEvent("Je")}).R(this.D,"action",function(b){b.stopPropagation();a.dispatchEvent("Ke")})};
C2.prototype.setContent=function(a){this.C.setContent(a)};C2.prototype.setVisible=function(a){var b=this.getElement();b&&L(b,a)};function XFd(){}q(XFd,nr);XFd.prototype.xc=n("waffle-dataconnector-queryeditor-removable-chip-remove-button");ta(XFd);function WFd(){}q(WFd,nr);WFd.prototype.xc=n("waffle-dataconnector-queryeditor-removable-chip-button");ta(WFd);var YFd=new $v;function ZFd(a){var b=V(a,3),c=V(a,4);if(b)a:if(c=ritz_api.RitzModelApi.getWorkbookRangeById(b,!1)){if(b=ritz_api.RitzModelApi.getNamedRangeIdForWorkbookRange(b))if(b=ritz_api.RitzModelApi.getNamedRangeById(b)){c=YFd.zd(dA.Ba(),b).getName();break a}c=YFd.zd(nw.Ba(),c);c=ritz_api.DbxApi.getA1AddressForCoordinate(c.Ib(),c.zc(),c.yc())||"#REF"}else c="#REF";else c?(b=c.Ib(),a=c.lq(),c=c.getColumnIndex(),c=ritz_api.DbxApi.getA1AddressForCoordinate(b,a,c)||"#REF"):c=V(a,2);return c};function $Fd(a){B2.call(this,N(UFd,{title:"Parameters"}),a);this.D=new M;this.Qa(this.D);this.C=new aGd;this.F=new KU("Add");this.Qa(this.F);this.F.Od("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button")}q($Fd,B2);p=$Fd.prototype;
p.Ma=function(){B2.prototype.Ma.call(this);this.setContent(N(TFd));this.D.Ab(this.$a("waffle-dataconnector-queryeditor-queryparameterwidget-chip-container"));this.F.render(this.$a("waffle-dataconnector-queryeditor-queryparameterwidget-add-parameter-button-wrapper"));for(var a=ha(this.C.Bd()),b=a.next();!b.done;b=a.next())b.value.render(this.D.getElement())};p.Wa=function(){B2.prototype.Wa.call(this);this.getHandler().R(this.D,"Je",this.NOb).R(this.D,"Ke",this.TDb).R(this.F,"action",this.Anb)};
function bGd(a){return a.C.Bd().map(function(a){return a.ub()})}function cGd(a,b){dGd(b);var c=b.getName();if(a.C.get(c))throw new eGd("Parameter with name '"+c+"' is\nalready defined.");b=new fGd(b,a.qa());a.C.set(c,b);a.D.Qa(b,a.Sb())}p.NOb=function(a){a.stopPropagation();this.dispatchEvent(new gGd("Ne",this,a.target.ub()))};p.TDb=function(a){a.stopPropagation();this.dispatchEvent(new gGd("Me",this,a.target.ub()))};p.Anb=function(a){a.stopPropagation();this.dispatchEvent(new gGd("Le",this))};
function aGd(){this.Hb={}}p=aGd.prototype;p.get=function(a){return this.Hb["P_"+a.toUpperCase()]||null};p.has=function(a){return!!this.Hb["P_"+a.toUpperCase()]};p.set=function(a,b){this.Hb["P_"+a.toUpperCase()]=b};p.Bd=function(){return Object.values(this.Hb)};p.clear=function(){for(var a=Object.keys(this.Hb),b=0;b<a.length;b++)delete this.Hb[a[b]]};function fGd(a,b){C2.call(this,hGd(a),b);C2.prototype.Qc.call(this,a.clone())}q(fGd,C2);
fGd.prototype.Qc=function(a){C2.prototype.Qc.call(this,a.clone());this.setContent(hGd(a))};fGd.prototype.ub=function(){return C2.prototype.ub.call(this).clone()};function dGd(a){var b=a.getName();if(!b)throw new iGd("Parameters must have a name");var c=V(a,2),d=V(a,3);a=V(a,4);if(!c&&!d&&!a)throw new iGd("Parameter '"+b+"'has no value set.");}function hGd(a){var b=a.getName().toUpperCase();a=ZFd(a);return N(VFd,{name:b,value:a})}
function iGd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(iGd,Error);function eGd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(eGd,Error);function jGd(a){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)}q(jGd,Error);function gGd(a,b,c){D.call(this,a,b);this.C=c}q(gGd,D);function kGd(a,b,c,d){E.call(this);this.J=new Ph(this);this.xa(this.J);this.H=new Ph(this);this.xa(this.H);this.D=a;this.C=b;this.Nb=d;this.L=c;this.F=null}q(kGd,E);p=kGd.prototype;p.Pa=function(){this.F&&this.F.nE();this.F=null};p.Of=function(){this.C.Ej(this.D.qb());this.C.Cd();this.J.R(this.D,"Le",this.DJb).R(this.D,"Me",this.EJb).R(this.D,"Ne",this.FJb)};p.DJb=function(){this.C.setVisible(!0);this.C.J.setContent("Add");this.H.R(this.C,"Ge",this.QMb).R(this.C,"Ie",this.q4).R(this.C,"He",this.qVa)};
p.FJb=function(a){a=a.C;this.C.setVisible(!0);this.C.Re(a.getName());this.C.mb(ZFd(a));var b=this.C;b.F.Bc(!Sv(a,2));b.upa();this.C.J.setContent("Update");lGd(this,a)};p.QMb=function(){var a=this.C.getName(),b=this.C.fb();if(!this.D.C.has(a)){var c=this.C.F.isChecked();if(a=mGd(this,a,b,c))cGd(this.D,a),this.q4(),this.dispatchEvent("Oe")}};
function lGd(a,b){var c=b.getName();a.H.R(a.C,"Ge",function(){var b=a.C.getName(),e=a.C.fb();if(b==c||!a.D.C.has(b)){var f=a.C.F.isChecked();if(b=mGd(a,b,e,f)){e=a.D;dGd(b);f=b.getName();if(!e.C.get(c))throw new jGd;if(f.toUpperCase()!=c.toUpperCase()&&e.C.get(f))throw new eGd;var h=e.C.get(c);h.Qc(b);f!=c&&(delete e.C.Hb["P_"+c.toUpperCase()],e.C.set(f,h));a.q4();a.dispatchEvent("Oe")}}}).R(a.C,"Ie",a.q4).R(a.C,"He",a.qVa)}
p.EJb=function(a){a=a.C.getName();this.D.C.has(a);var b=this.D,c=b.C.get(a);if(!c)throw new jGd;b.D.removeChild(c,b.Sb());delete b.C.Hb["P_"+a.toUpperCase()];C(c);this.dispatchEvent("Oe")};p.q4=function(){this.C.setVisible(!1);this.C.clear();this.H.Pc()};
function mGd(a,b,c,d){d?(c=ritz_api.DbxApi.parseQueryParameterRange(c),c.getErrorMessage()?(b=a.C,a=c.getErrorMessage(),null==a?PU(b.D,!1):PU(b.D,!0,a),b=null):c.getNamedRangeWorkbookRangeId()?(a=c.getNamedRangeWorkbookRangeId(),c=new U1,c.Re(b),W(c,3,a),b=c):c.getGridRange()?(c=xP(c.getGridRange()),a=new V1,d=c.Ib(),W(a,1,d),d=c.zc(),W(a,2,d),c=c.yc(),W(a,3,c),c=new U1,c.Re(b),W(c,4,a),b=c):b=void 0):(a=new U1,a.Re(b),W(a,2,c),b=a);return b}
p.qVa=function(){var a=this;aS(this.Nb,null,new nGd(this.C),this.C.fb(),!0,!1,!0,function(b){a.L.setVisible(!1);a.C.setVisible(!1);a.F=b;a.J.Wc(b,"hide",a.QPb)})};p.QPb=function(){this.isDisposed()||(this.F=null,this.L.setVisible(!0),this.C.setVisible(!0))};function nGd(a){this.C=a}nGd.prototype.mb=function(a){this.C.mb(a);a=this.C;a.F.Bc(!0);a.upa()};function oGd(){return P('<div class="'+Q("waffle-dataconnector-querypreviewrenderer")+'"><div class="'+Q("waffle-dataconnector-querypreviewrenderer-canvas-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-querypreviewrenderer-canvas-overlay")+'"><div class="'+Q("waffle-dataconnector-querypreviewrenderer-overlay-text")+'"></div></div></div>')};function D2(a,b){M.call(this,b);this.J=a;this.D=this.qa().Ma("CANVAS");rK(this.D);this.F=qK(this.D);this.L=ritz_api.DbxApi.createGridViewModel(101,24);this.C=ritz_api.DbxApi.createGridView(this.L,this.F,this.J.D,this.J.C);sK(this.D,this.F,800,243);pGd(this);this.Zc=new $v;this.H=!0}q(D2,M);D2.prototype.Ma=function(){this.wb=N(oGd);var a=this.$a("waffle-dataconnector-querypreviewrenderer-canvas-wrapper");a.appendChild(this.D);Hh(a,"native-scrollbar");Hh(a,"native-scrollbar-ltr")};
D2.prototype.Wa=function(){M.prototype.Wa.call(this);L(this.qb(),this.H)};D2.prototype.Pa=function(){M.prototype.Pa.call(this)};D2.prototype.setVisible=function(a){this.H=a;this.Sb()&&L(this.qb(),this.H)};function qGd(a){L(a.$a("waffle-dataconnector-querypreviewrenderer-canvas-overlay"),!1)}function rGd(a,b,c){a.D.style.width=b;a.D.style.height=c;sK(a.D,a.F,b,c);pGd(a)}function pGd(a){a.F.fillStyle="#f3f3f3";a.F.fillRect(0,0,a.D.width,a.D.height)};function sGd(){A.call(this);this.C=yA("win")}q(sGd,A);function tGd(a,b){a.C.dataConnectorOnCompleteAuth=b;b=(new wl(a.C.location.href)).resolve(new wl("dbx/ssoLogin")).toString();var c=Vd();(a=Dp(b,{target:"google_popup",width:500,height:500,top:Math.floor((c.height-500)/2),left:Math.floor((c.width-500)/2),toolbar:!1,menubar:!1,location:!1,statusbar:!1},a.C))&&a.focus()}sGd.prototype.Pa=function(){delete this.C.dataConnectorOnCompleteAuth;A.prototype.Pa.call(this)};var uGd=new Ot(1);function vGd(a,b){var c=V(a,3);return b?V(a,4)?"Query returns: more than "+(uGd.format(c)+(" rows of data. Please revise your query to return no more than "+(uGd.format(1E4)+" rows."))):"Query returns: "+(uGd.format(c)+(" rows of data. Please revise your query to return no more than "+(uGd.format(1E4)+" rows."))):(new Rt("{TOTAL_ROWS, plural, =0 {Query returns no results.}=1 {Query returns: 1 row of data.}other {Query returns: # rows of data.}}")).format({TOTAL_ROWS:c})};function E2(a,b,c,d,e,f,h){Q1.call(this,"waffle-dataconnector-newqueryeditor",h);this.gc=a;this.Dc=b;this.Sc=c;this.O=new KU("Preview query");this.O.Od("waffle-dataconnector-newqueryeditor-preview-query-button");this.Qa(this.O);this.Aa=new IU("Insert raw data");this.Aa.Od("waffle-dataconnector-newqueryeditor-execute-query-button");this.Qa(this.Aa);this.D=new HFd(void 0,this.qa());this.Qa(this.D);this.L=new M;this.Qa(this.L);this.sb=new $Fd(this.qa());this.L.Qa(this.sb,!0);this.Jb=new SFd(this.qa());
this.xa(this.Jb);this.Lb=new kGd(this.sb,this.Jb,this,e);this.xa(this.Lb);this.hb=d;this.Qa(this.hb);this.F=new MFd(this.qa());this.Qa(this.F);this.H=new wFd("horizontal",this.qa());this.xa(this.H);this.Eb=this.Na=!1;this.rb=null;this.Ob=f||new sGd;this.xa(this.Ob);this.ma=null}q(E2,Q1);
function wGd(a,b){a.D.ib(!1);b.then(function(b){if(b){for(var c=Wv(b,3),e=a.sb,f=ha(e.C.Bd()),h=f.next();!h.done;h=f.next())h=h.value,e.D.removeChild(h,e.Sb()),C(h);e.C.clear();c=ha(c);for(f=c.next();!f.done;f=c.next())cGd(e,f.value)}a.R9(b);a.w$()},function(){a.R9(null);a.w$()})}function xGd(a){var b=a.gka(),c;if(c=b){a=ha(bGd(a.sb));for(c=a.next();!c.done;c=a.next())Uv(b,3,c.value);c=b}return c}p=E2.prototype;p.CRa=function(){this.Na=!0;A2(this.F);yGd(this,nd("Executing query"));F2(this)};
p.yRa=function(a,b){this.Na=!1;this.O.setContent(N(lFd));this.rb=b;this.Eb=zGd(a);AGd(this,a);b=this.hb;a=V(a,2);a=b.Zc.serialize(a);ritz_api.DbxApi.setQueryResult(b.C,a);a=ritz_api.DbxApi.getWidth(b.C);var c=ritz_api.DbxApi.getHeight(b.C),d=ritz_api.GridViewApi.getHeaderDepth(b.C,"COLUMNS"),e=ritz_api.GridViewApi.getHeaderDepth(b.C,"ROWS");rGd(b,a+e,c+d);ritz_api.GridViewApi.renderOriginView(b.C,0,0);ritz_api.GridViewApi.renderHeaderView(b.C,"ROWS",0,c,0,d,null,null);ritz_api.GridViewApi.renderHeaderView(b.C,
"COLUMNS",0,a,e,0,null,null);ritz_api.GridViewApi.renderGridView(b.C,0,0,a,c,e,d,null,null);qGd(b);BGd(this);F2(this)};function BGd(a){var b=Math.min(si(a.hb.D).height+16,240);CGd(a,b)}p.xRa=function(a){a=a.Bj();yGd(this,nd("Executing query"),V(a,5))};p.wRa=function(a){this.Na=!1;A2(this.F);a&&10==V(a.Bj(),2)?DGd(this):(a=EGd(this,a),NFd(this.F,a));F2(this)};p.Epa=function(){this.Na=!0;A2(this.F);yGd(this,nd("Updating workbook"));F2(this)};
p.Cpa=function(a){this.Na=!1;A2(this.F);a=EGd(this,a);NFd(this.F,a);F2(this)};p.Ma=function(){Q1.prototype.Ma.call(this);kr(this.Qb(),OFd);var a=wDd(this);kr(a,PFd);this.L.render(this.$a("waffle-dataconnector-newqueryeditor-sidebar"))};
p.Wa=function(){var a=this;Q1.prototype.Wa.call(this);this.D.render(this.$a("waffle-dataconnector-newqueryeditor-editor-pane"));this.Aa.render(this.$a("waffle-dataconnector-newqueryeditor-insert-button-wrapper"));this.O.render(this.$a("waffle-dataconnector-newqueryeditor-preview-button-wrapper"));this.F.render(this.$a("waffle-dataconnector-newqueryeditor-message-wrapper"));this.hb.render(this.$a("waffle-dataconnector-newqueryeditor-preview-pane"));this.Jb.render();this.Lb.Of();this.H.Ab(this.$a("waffle-dataconnector-newqueryeditor-preview-resize-bar"));
this.getHandler().R(this.H,["Be","Ce"],this.GCb).R(this.O,"action",this.YSb).R(this.Aa,"action",this.Ihb).R(this.Lb,"Oe",this.cRb).R(this.D,"Fe",this.w$).R(this.H,"key",this.FCb);Ri(function(){if(!a.isDisposed()){var b=a.hb;ritz_api.DbxApi.renderBlankPreview(b.C);var c=ritz_api.DbxApi.getWidth(b.C),d=ritz_api.DbxApi.getHeight(b.C),e=ritz_api.GridViewApi.getHeaderDepth(b.C,"COLUMNS"),f=ritz_api.GridViewApi.getHeaderDepth(b.C,"ROWS");rGd(b,c+f,d+e);ritz_api.GridViewApi.renderOriginView(b.C,0,0);ritz_api.GridViewApi.renderHeaderView(b.C,
"ROWS",0,d,0,e,null,null);ritz_api.GridViewApi.renderHeaderView(b.C,"COLUMNS",0,c,f,0,null,null);ritz_api.GridViewApi.renderGridView(b.C,0,0,c,d,f,e,null,null);qGd(b)}});CGd(this,0);FGd(this,nd("No preview available"));F2(this)};p.Pa=function(){Q1.prototype.Pa.call(this);C(this.ma);this.ma=null};p.w$=function(){F2(this)};function CGd(a,b){var c=void 0===c?!0:c;C(a.ma);a.ma=null;c?(c=GGd(a),a.ma=new HGd(c,b,200,a),a.xa(a.ma),a.ma.play()):IGd(a,b)}
function GGd(a){return a.Sb()?si(a.$a("waffle-dataconnector-newqueryeditor-preview-pane")).height:0}function IGd(a,b){var c=a.$a("waffle-dataconnector-newqueryeditor-main");b=si(c).height-a.H.jd()-b;a=a.H;wq(a.Tc,xFd(a));a.C="vertical"==a.D?HCa(a.Tc,b):ICa(a.Tc,b);c=ha("vertical"==a.D?[a.C,0]:[0,a.C]);b=c.next().value;c=c.next().value;oD(a.qb(),b,c,a.Ie());a.dispatchEvent("Be")}p.cRb=function(){F2(this)};
function F2(a){var b=xGd(a);if(a.Na||null==b)a.Aa.ib(!1),a.O.ib(!1);else{a.O.ib(!0);var c=!!a.rb;b=!!a.rb&&a.rb.equals(b);var d=!!a.Eb;a.Aa.ib(!c||b&&!d)}}p.YSb=function(){xB.$b(JGd(this))};p.Ihb=function(){var a=xGd(this);this.Dc.$b(this.Sc(a))};function JGd(a){var b=new c2;W(b,1,a.gc);a=xGd(a);W(b,2,a);W(b,3,30);return b}function EGd(a,b){var c=b?V(b.Bj(),2):1;b=b?V(b.Bj(),3):null;return yFd(a.Zoa(),c,b)}
function AGd(a,b){var c=0;a.F.C.D||(yGd(a,nd("Executing query"),100),c=1500);Ri(function(){if(!a.isDisposed()){A2(a.F);var c=nd(vGd(b,a.Eb));zGd(b)?NFd(a.F,c):FGd(a,c)}},c)}function FGd(a,b){a=a.F;var c=a.$a("waffle-dataconnector-dialog-info-message");A2(a);td(c,b||nd(""));L(c,!!b)}function yGd(a,b,c){a=a.F;td(a.$a("waffle-dataconnector-dialog-progress-label"),b);null!=c&&SEd(a.C,c);L(a.$a("waffle-dataconnector-dialog-progress-message"),!0)}
function DGd(a){var b="waffle-dataconnector-ssologin-"+$b(),c=CFd(b);NFd(a.F,c);(b=Pd(b))&&a.getHandler().R(b,"click",function(){return KGd(a)})}p.GCb=function(){var a=this.$a("waffle-dataconnector-newqueryeditor-editor-pane");oi(a,this.H.C);var b=this.$a("waffle-dataconnector-newqueryeditor-main");a=this.$a("waffle-dataconnector-newqueryeditor-preview-pane");b=si(b).height-this.H.C-this.H.jd();oi(a,b)};p.FCb=function(a){13==a.keyCode&&(0==GGd(this)?BGd(this):CGd(this,0));a.stopPropagation()};
function KGd(a){tGd(a.Ob,function(){xB.$b(JGd(a))})}function HGd(a,b,c,d){qt.call(this,[a],[b],c);this.F=d}q(HGd,qt);HGd.prototype.w0=function(){IGd(this.F,this.coords[0])};HGd.prototype.mT=function(){IGd(this.F,this.kQ[0])};function zGd(a){return 1E4<V(a,3)||!!V(a,4)};function LGd(a,b,c,d){A.call(this);this.$=a;this.ma=b;this.Aa=c;this.O=this.J=this.L=null;this.D=d||null;this.C=3;this.V=new MGd;this.F=this.H=null}q(LGd,A);p=LGd.prototype;p.getId=function(){return Aa(this)};p.Pa=function(){this.stop();A.prototype.Pa.call(this)};p.start=function(){this.C=2;this.F=this.H=null;this.vFa(this.$)};p.stop=function(){2==this.C&&(this.C=3,this.V.stop())};function NGd(a,b){a.L=b;return a}function OGd(a,b){a.J=b;return a}function PGd(a,b){a.O=b;return a}
p.vFa=function(a){var b=this;this.ma.call(this.D,a).then(function(a){if(2==b.C){b.H=a;b.F=null;var c=b.Aa.call(b.D,a);if(c){b.O&&b.O.call(b.D,a);a:{a=b.V;c=v(b.vFa,b,c);if(10>a.F){a.F++;var e=1E3}else if(60>a.D)a.D++,e=5E3;else{a=!1;break a}e+=Math.round(.2*e*(Math.random()-.5)*2);a.C=Ri(c,e);a=!0}a||QGd(b,Error("Polling timed out"))}else b.stop(),b.C=4,b.H=a,b.F=null,b.L&&b.L.call(b.D,a)}},function(a){2==b.C&&QGd(b,a)})};function QGd(a,b){a.stop();a.C=1;a.H=null;a.F=b;a.J&&a.J.call(a.D,b)}
p.getStatus=g("C");p.RK=g("F");function MGd(){this.D=this.F=0;this.C=null}MGd.prototype.stop=function(){this.D=this.F=0;Si(this.C);this.C=null};function RGd(a){this.C=a}function SGd(a,b){var c=V(b,2);return new LGd(b,function(b){return xEd(a.C,b)},function(a){if(1==a.Bj().getState()){var b=new c2;W(b,2,c);b.setToken(a.Bj().getToken());return b}return null})};function TGd(){return P('<div class="'+Q("waffle-dataconnector-queryeditor-content")+'"><div class="'+Q("waffle-dataconnector-queryeditor-editor-pane")+'"></div><div class="'+Q("waffle-dataconnector-queryeditor-preview-pane")+'"><div class="'+Q("waffle-dataconnector-queryeditor-preview-canvas-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-queryeditor-preview-overlay")+'"><div class="'+Q("waffle-dataconnector-queryeditor-preview-overlay-text")+'"></div></div></div></div>')};function UGd(a,b,c,d,e,f,h,k){w2.call(this,f,h);var l=this;Bq(this,"Query Editor");VEd(this);this.Sc=a;this.C=b;this.Qa(this.C);this.Na=c;this.ad=d;this.Lb=e;this.J=this.qa().Ma("CANVAS");rK(this.J);this.Aa=qK(this.J);this.Eb=ritz_api.DbxApi.createGridViewModel(101,24);this.F=ritz_api.DbxApi.createGridView(this.Eb,this.Aa,this.Lb.D,this.Lb.C);sK(this.J,this.Aa,800,243);VGd(this);TEd(this,this.Na,function(){return l.ad(WGd(l.C))});UEd(this);this.Zc=new $v;this.O=null;this.hb=!1;this.Jb=k||new sGd;
this.xa(this.Jb);this.ma=!1;this.Dc=new XGd(this);this.xa(this.Dc)}q(UGd,w2);p=UGd.prototype;p.Ma=function(){w2.prototype.Ma.call(this);kr(this.Qb(),TGd)};
p.Wa=function(){var a=this;w2.prototype.Wa.call(this);this.C.render(this.$a("waffle-dataconnector-queryeditor-editor-pane"));rj(this.yb,this.C.L,xB,tj,function(){return YGd(a)});this.getHandler().R(this.C,"Pe",this.Xsa);var b=this.$a("waffle-dataconnector-queryeditor-preview-canvas-wrapper");b.appendChild(this.J);Hh(b,"native-scrollbar");Hh(b,"native-scrollbar-ltr");ZGd(this,!1);x2(this);this.Xsa();$Gd(this.C,"Only users with edit access can view and edit the query")};
p.Pa=function(){w2.prototype.Pa.call(this);delete this.Eb;delete this.F};p.CRa=function(){this.ma=!0;L(this.$a("waffle-dataconnector-queryeditor-preview-overlay-text"),!1);x2(this);YEd(this,"Executing query");aHd(this)};
p.yRa=function(a,b){this.ma=!1;this.O=b;this.hb=bHd(a);cHd(this,a);a=V(a,2);a=this.Zc.serialize(a);ritz_api.DbxApi.setQueryResult(this.F,a);a=ritz_api.DbxApi.getWidth(this.F);b=ritz_api.DbxApi.getHeight(this.F);var c=ritz_api.GridViewApi.getHeaderDepth(this.F,"COLUMNS"),d=ritz_api.GridViewApi.getHeaderDepth(this.F,"ROWS"),e=a+d,f=b+c;this.J.style.width=e;this.J.style.height=f;sK(this.J,this.Aa,e,f);VGd(this);ritz_api.GridViewApi.renderOriginView(this.F,0,0);ritz_api.GridViewApi.renderHeaderView(this.F,
"ROWS",0,b,0,c,null,null);ritz_api.GridViewApi.renderHeaderView(this.F,"COLUMNS",0,a,d,0,null,null);ritz_api.GridViewApi.renderGridView(this.F,0,0,a,b,d,c,null,null);dHd(this,!1);aHd(this);$Gd(this.C,"All users with view access can view query results in the workbook.");ZGd(this,!0)};function cHd(a,b){var c=0;a.L.D||(YEd(a,"Executing query",100),c=1500);Ri(function(){if(!a.isDisposed()){x2(a);eHd(a);var c=nd(vGd(b,a.hb));bHd(b)?WEd(a,c):XEd(a,c)}},c)}
p.xRa=function(a){a=a.Bj();YEd(this,"Executing query",V(a,5))};p.wRa=function(a){this.ma=!1;x2(this);a&&10==V(a.Bj(),2)?fHd(this):WEd(this,gHd(a));this.Xsa()};function fHd(a){var b="waffle-dataconnector-ssologin-"+$b(),c=CFd(b);WEd(a,c);(b=Pd(b))&&a.getHandler().R(b,"click",function(){return hHd(a)})}function hHd(a){tGd(a.Jb,function(){xB.$b(YGd(a))})}
function eHd(a){var b=WGd(a.C);if(b&&a.O&&!b.equals(a.O)){b=new yp;var c="This preview is out of date."+(b.ue("br")+"Please re-run your query.");b=b.format(c);dHd(a,!0);td(a.$a("waffle-dataconnector-queryeditor-preview-overlay-text"),b);L(a.$a("waffle-dataconnector-queryeditor-preview-overlay-text"),!0)}else dHd(a,!1)}p.Xsa=function(){eHd(this);aHd(this)};
function aHd(a){var b=WGd(a.C);if(a.ma||null==b)a.Na.ib(!1),xB.ib(!1);else{xB.ib(!0);var c=!!a.O;b=!!a.O&&a.O.equals(b);var d=!!a.hb;a.Na.ib(!c||b&&!d)}}function dHd(a,b){Lh(a.$a("waffle-dataconnector-queryeditor-preview-pane"),"waffle-dataconnector-queryeditor-preview-inactive",b)}p.Epa=function(){this.ma=!0;x2(this);YEd(this,"Updating workbook");aHd(this)};p.Cpa=function(a){this.ma=!1;x2(this);WEd(this,gHd(a));aHd(this)};
function gHd(a){var b=a?V(a.Bj(),2):1;a=a?V(a.Bj(),3):null;return yFd(2,b,a)}function YGd(a){var b=new c2;W(b,1,a.Sc);a=WGd(a.C);W(b,2,a);W(b,3,30);return b}function VGd(a){a.Aa.fillStyle="#f3f3f3";a.Aa.fillRect(0,0,a.J.width,a.J.height)}function ZGd(a,b){b!=vi(a.$a("waffle-dataconnector-queryeditor-preview-pane"))&&(b?a.Dc.play():L(a.$a("waffle-dataconnector-queryeditor-preview-pane"),!1))}function bHd(a){return 1E4<V(a,3)||!!V(a,4)}function iHd(a){M.apply(this,arguments)}q(iHd,M);
function $Gd(a,b){var c=J(H(),"docs-idu");c&&(b+=" ");var d=a.$a("waffle-dataconnector-queryeditor-sharing-message");fe(d);b=a.qa().Ma("SPAN",void 0,b);d.appendChild(b);c&&(a=a.qa().Ma("A",{href:"https://sites.google.com/corp/google.com/sheets-dataconnectors-help/sharing",target:"_blank"},"Learn more"),d.appendChild(a))}function XGd(a){qt.call(this,[0],[1],350);this.F=a}q(XGd,qt);XGd.prototype.nT=function(){var a=this.F.$a("waffle-dataconnector-queryeditor-preview-pane");L(a,!0);oi(a,0)};
XGd.prototype.w0=function(){var a=this.yk,b=this.F.$a("waffle-dataconnector-queryeditor-preview-pane");oi(b,243*a);this.F.Cd()};function jHd(){return P('<div class="'+Q("waffle-dataconnector-bigquery-query-settings-widget")+'"><div class="'+Q("waffle-dataconnector-bigquery-query-settings-widget-project-section")+'"></div></div>')};function kHd(a,b,c){b=c||b;a='<div class="'+Q("waffle-dataconnector-queryeditor-query-settings-header")+'">'+O(Ls({icon:vr("docs-icon-img docs-icon-settings")},b))+'<span class="'+Q("waffle-dataconnector-queryeditor-query-settings-title")+'">';return P(a+"Query Settings</span></div>")};function lHd(a,b){B2.call(this,N(kHd),b);b=a.C;a=a.D;this.C=new rU;this.C.setContent("Billing project");for(var c=null,d=0;d<b.length;d++){var e=b[d];this.C.Fd(new Ek(e.getName(),e));null!=a&&e.getId()==a&&(c=d)}null!==c?this.C.hf(c):Wr(this.C,null);this.Qa(this.C)}q(lHd,B2);function mHd(a){a=a.C.bf();return null==a?null:a.fb()}lHd.prototype.Ma=function(){B2.prototype.Ma.call(this);this.setContent(N(jHd));this.C.render(this.$a("waffle-dataconnector-bigquery-query-settings-widget-project-section"))};
lHd.prototype.Wa=function(){var a=this;B2.prototype.Wa.call(this);this.getHandler().R(this.C,"change",function(b){b.stopPropagation();a.dispatchEvent("Qe")});this.Yd(!0);this.C.zp();this.Yd(!1)};function nHd(a){this.Hc=a}nHd.prototype.getType=g("Hc");function oHd(a){this.Hc="cloud-project";this.C=a}q(oHd,nHd);oHd.prototype.Jn=g("C");function pHd(a,b){this.Hc="bigquery-dataset";this.C=b;this.D=a}q(pHd,nHd);pHd.prototype.Jn=g("C");function qHd(a,b,c){this.Hc="bigquery-table";this.C=c;this.D=b;this.F=a}q(qHd,nHd);qHd.prototype.Jn=g("C");function rHd(a){this.Hc="jdbc-table";this.C=a}q(rHd,nHd);function sHd(){this.Hc="column"}q(sHd,nHd);function G2(a,b,c,d){c=void 0===c?!1:c;M.call(this,d);this.Qc(b);this.H=(this.D=c)?2:0;this.F=!1;this.C=new tHd(a,this.qa());this.xa(this.C);this.D&&this.C.Od("waffle-dataconnector-dbschematreenode-control-leaf")}q(G2,M);p=G2.prototype;p.Ma=function(){this.wb=this.qa().Ma("DIV","waffle-dataconnector-dbschematreenode",this.qa().Ma("DIV","control-container"),this.qa().Ma("DIV","waffle-dataconnector-dbschematreenode-child-container"));this.C.render(this.$a("control-container"))};p.Qb=function(){return this.Kb("waffle-dataconnector-dbschematreenode-child-container")};
p.Wa=function(){M.prototype.Wa.call(this);uHd(this,!1);this.getHandler().R(this.C,"action",this.yrb)};p.yrb=function(){this.Yd(!this.F)};p.Yd=function(a){if(!this.D&&a!=this.F){var b=zja(64,a);this.dispatchEvent(b)&&uHd(this,a)}};function uHd(a,b){a.F=b;a.Sb()&&(L(a.Qb(),b),a.C.Yd(b))}function vHd(a,b){a.H=b;b=a.C;a=1==a.H;b.pk("waffle-dataconnector-dbschematreenode-control-loading",a);VT(b.C,a)}p.hx=g("H");p.Qc=function(a){M.prototype.Qc.call(this,a)};p.ub=function(){return M.prototype.ub.call(this)};
p.Qa=function(a,b){if(this.D)throw Error("Can't add child to leaf node");M.prototype.Qa.call(this,a,b)};p.Fg=function(a,b,c){if(this.D)throw Error("Can't add child to leaf node");M.prototype.Fg.call(this,a,b,c)};p.removeChild=function(a,b){return M.prototype.removeChild.call(this,a,b)};p.Hd=function(){return M.prototype.Hd.call(this,!0)};p.Xn=function(a){return M.prototype.Xn.call(this,a,!0)};
function tHd(a,b){mk.call(this,a,wHd.getInstance(),b);this.kf(32,!1);this.kf(64,!0);mj(this,64,!1);this.C=new UT}q(tHd,mk);tHd.prototype.Wa=function(){mk.prototype.Wa.call(this);this.C.render(this.$a("waffle-dataconnector-dbschematreenode-control-icon"))};function wHd(){}q(wHd,Ki);wHd.prototype.Ma=function(a){return a.qa().Ma("DIV",this.on(a).join(" "),a.qa().Ma("DIV","waffle-dataconnector-dbschematreenode-control-icon"),a.qa().Ma("DIV","waffle-dataconnector-dbschematreenode-control-label",a.getContent()))};
wHd.prototype.Qb=function(a){return Td("waffle-dataconnector-dbschematreenode-control-label",a)};wHd.prototype.xc=n("waffle-dataconnector-dbschematreenode-control");ta(wHd);function H2(a){M.call(this,a);this.C=new M(this.qa());this.Qa(this.C,!0)}q(H2,M);H2.prototype.Wa=function(){M.prototype.Wa.call(this);this.getHandler().R(this.C,"open",this.H)};H2.prototype.H=function(a){var b=a.target;2!=b.hx()&&a.preventDefault();0==b.hx()&&xHd(this,b)};function xHd(a,b){a.F(b).then(function(a){return yHd(b,a)},function(){return vHd(b,0)});vHd(b,1)}function zHd(a){var b=[];a.C.wf(function(a){b.push(a)});return b}
function yHd(a,b){a.isDisposed()?Db(b):(b.forEach(function(b){a.Qa(b,!0)}),vHd(a,2),a.Yd(!0))};function AHd(a,b){H2.call(this,b);this.D=a}q(AHd,H2);function BHd(a,b){var c=b.getId();a:{var d=zHd(a);d=ha(d);for(var e=d.next();!e.done;e=d.next())if(e.value.ub().Jn()==c){d=!0;break a}d=!1}d||(b=b.getName(),a.C.Qa(new G2(b,new oHd(c)),!0))}AHd.prototype.F=function(a){a=a.ub();switch(a.getType()){case "cloud-project":return CHd(this,a);case "bigquery-dataset":return DHd(this,a);case "bigquery-table":return EHd(this,a);default:return a.getType(),of()}};
function CHd(a,b){var c=b.Jn();return LEd(a.D,c).then(function(a){return FHd(a,c)})}function DHd(a,b){var c=b.D,d=b.Jn();return JEd(a.D,d,c).then(function(a){return GHd(a,d,c)})}function EHd(a,b){var c=new j2;c.Re(b.F);W(c,2,b.D);VDd(c,b.Jn());return KEd(a.D,c).then(function(a){return HHd(a)})}function FHd(a,b){return a.map(function(a){return new G2(a,new pHd(a,b))})}function GHd(a,b,c){return a.map(function(a){a=a.getName();return new G2(a,new qHd(a,c,b))})}
function HHd(a){return a.map(function(a){return new G2(a,new sHd(a),!0)})};function IHd(a){var b=P,c='<div class="'+Q("waffle-dataconnector-queryeditor-schemamenuwidget-header")+'">';var d=P('<svg class="waffle-dataconnector-database-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="#000" fill-rule="evenodd"><ellipse cx="9" cy="5" rx="7" ry="3"/><path d="M16,7 L16,8.99999983 C16,10.6568542 12.8659932,12 9,12 C5.13400675, 12 2,10.6568542 2,9 L2,7 C2,8.65685425 5.13400675,10 9,10 C12.8659932,10 16,8.65685425 16,7 Z"/><path d="M16,11 L16,12.9999998 C16,14.6568542 12.8659932,16 9,16 C5.13400675,16 2,14.6568542 2,13 L2,11 C2,12.6568542 5.13400675,14 9,14 C12.8659932,14 16,12.6568542 16,11 Z"/></g></svg>');
return b(c+O(d)+"<div>"+O(a.title)+"</div></div>")};function JHd(a,b){B2.call(this,N(IHd,{title:"Schema"}),b);this.C=a;this.Qa(this.C,!0)}q(JHd,B2);function KHd(a,b,c,d,e,f,h,k,l){E2.call(this,b,c,d,e,f,k,l);xDd(this,"BigQuery query editor");this.J=new lHd(a,this.qa());this.L.Fg(this.J,0,!0);this.Cb=new AHd(h,this.qa());this.Rb=new JHd(this.Cb);this.L.Qa(this.Rb,!0);(a=mHd(this.J))&&BHd(this.Cb,a)}q(KHd,E2);p=KHd.prototype;p.Wa=function(){E2.prototype.Wa.call(this);this.getHandler().R(this.J,"Qe",this.UCb)};
p.gka=function(){var a=KFd(this.D),b=mHd(this.J);if(!a||!b)return null;b=new T1;var c=mHd(this.J).getId();W(b,1,a);W(b,2,c);a=new W1;W(a,4,b);return a};p.R9=function(a){if(a){var b=V(a,4);LFd(this.D,V(b,1));a:{a=this.J;b=b.Jn();for(var c=a.C.Di(),d=0;d<c;d++)if(a.C.nf(d).fb().getId()==b){a.C.hf(d);break a}}}else LFd(this.D,"");this.D.ib(!0)};p.Zoa=n(3);p.UCb=function(){var a=mHd(this.J);a&&BHd(this.Cb,a)};function LHd(a){var b='<div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget")+'"><div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget-connection-name-section")+'"><div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget-connection-name-label")+'">';b=b+"Connection name:"+('</div><div class="'+Q("waffle-dataconnector-jdbc-query-settings-widget-connection-name")+'">'+O(a.yP)+"</div></div></div>");return P(b)};function MHd(a,b){B2.call(this,N(kHd),b);this.C=a}q(MHd,B2);MHd.prototype.Ma=function(){B2.prototype.Ma.call(this);this.setContent(N(LHd,{yP:this.C}))};function NHd(a,b){this.C=a;this.D=b}function OHd(a){var b=new h2;W(b,1,a.C);return DEd(a.D,b).then(function(a){return Wv(a,4)})}function PHd(a,b){var c=new n2;W(c,1,a.C);W(c,2,b);return EEd(a.D,c).then(function(a){return Wv(a,4)})};function QHd(a,b){H2.call(this,b);this.D=a}q(QHd,H2);function RHd(a){OHd(a.D).then(function(b){b.forEach(function(b){b=b.getName();a.C.Qa(new G2(b,new rHd(b)),!0)})},ba())}QHd.prototype.F=function(a){a=a.ub();switch(a.getType()){case "jdbc-table":return SHd(this,a);default:return a.getType(),of()}};function SHd(a,b){var c=new j2;c.Re(b.C);return PHd(a.D,c).then(function(a){return THd(a)})}function THd(a){return a.map(function(a){return new G2(a,new sHd(a),!0)})};function UHd(a,b,c,d,e,f,h,k,l){E2.call(this,a,c,d,e,f,k,l);xDd(this,"Jdbc query editor");this.Rb=new MHd(b);this.L.Fg(this.Rb,0,!0);this.J=new QHd(h,this.qa());RHd(this.J);this.Cb=new JHd(this.J,this.qa());this.L.Qa(this.Cb,!0)}q(UHd,E2);UHd.prototype.gka=function(){var a=KFd(this.D);if(!a)return null;var b=new W1;W(b,1,a);return b};UHd.prototype.R9=function(a){a=a?V(a,1):"";LFd(this.D,a);this.D.ib(!0)};UHd.prototype.Zoa=n(1);function VHd(){var a='<div class="'+Q("waffle-dataconnector-plx-query-settings-widget")+'"><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-engine-section")+'"></div><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-section")+'"><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-label")+'">';a=a+"External script"+('</div><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-chip-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-plx-query-settings-widget-script-button-wrapper")+
'"></div></div></div>');return P(a)};function WHd(a){B2.call(this,N(kHd),a);this.F="";this.D=new C2(this.F);this.Qa(this.D);this.D.C.Ud("Click to open the Plx script editor");this.D.D.Ud("Unlink this Plx script");this.H=new KU("Add existing script");this.Qa(this.H);this.H.Od("waffle-dataconnector-plx-query-settings-widget-link-script-button");this.C=new rU;this.C.setContent("Engine");a=ha(oc(XHd));for(var b=a.next();!b.done;b=a.next())b=b.value,this.C.Fd(new Ek(b.caption,b.value));this.C.hf(0);this.Qa(this.C);this.L=new Tn;this.xa(this.L)}
q(WHd,B2);WHd.prototype.Ma=function(){B2.prototype.Ma.call(this);this.setContent(N(VHd));this.C.render(this.$a("waffle-dataconnector-plx-query-settings-widget-engine-section"));this.D.render(this.$a("waffle-dataconnector-plx-query-settings-widget-script-section"));this.H.render(this.$a("waffle-dataconnector-plx-query-settings-widget-script-button-wrapper"))};
WHd.prototype.Wa=function(){var a=this;B2.prototype.Wa.call(this);this.getHandler().R(this.H,"action",function(b){b.stopPropagation();a.dispatchEvent("Re")}).R(this.D,"Ke",function(b){b.stopPropagation();a.dispatchEvent("Te")}).R(this.D,"Je",function(b){b.stopPropagation();Dp(qDd(a.F),{target:"_blank"})}).R(this.C,"change",function(b){b.stopPropagation();a.dispatchEvent("Ue")});this.Yd(!0);this.C.zp();this.Yd(!1);YHd(this)};
function YHd(a){var b=!!a.F;b&&a.D.setContent(a.F);a.D.setVisible(b);a.H.setVisible(!b);a.H.ib(!b);a.C.ib(!b)}var ZHd=Object.freeze({caption:"Dremel",value:"DREMEL"}),$Hd=Object.freeze({caption:"F1",value:"F1"}),aId=Object.freeze({caption:"Procella",value:"PROCELLA"}),XHd={W_a:ZHd,v0a:$Hd,u3a:aId};function bId(a,b,c){v2.call(this,b,c);this.F=a?new lEc:new QT;this.Qa(this.F);this.F.Od("waffle-dataconnector-simple-text-input-prompt-text-field");a&&this.F.setContent(a);this.C.Od("waffle-dataconnector-simple-text-input-prompt-add-button")}q(bId,v2);bId.prototype.Ma=function(){v2.prototype.Ma.call(this);var a=this.qa().Ma("DIV","waffle-dataconnector-simple-text-input-prompt-text-field-wrapper");ee(this.Qb(),a);this.F.render(a)};bId.prototype.mb=function(a){this.F.mb(a)};
bId.prototype.Wa=function(){var a=this;v2.prototype.Wa.call(this);this.getHandler().R(this.C,"action",function(){var b=a.F.fb();""!=b&&a.resolve(b)})};function cId(a,b,c,d,e,f,h){E2.call(this,a,b,c,d,e,f,h);xDd(this,"Plx Query Editor");this.J=new WHd(this.qa());this.L.Fg(this.J,0,!0)}q(cId,E2);p=cId.prototype;p.Wa=function(){E2.prototype.Wa.call(this);this.getHandler().R(this.J,"Re",this.mSb).R(this.J,"Te",this.MOb)};p.gka=function(){var a=KFd(this.D),b=this.J.F;if(!a&&!b)return null;var c=new W1,d=new S1;b?W(d,3,b):(W(d,1,a),a=this.J.C.bf().fb(),W(d,2,a));W(c,2,d);return c};
p.R9=function(a){this.D.ib(!0);if(a){var b=V(a,2);a=V(b,1);var c=V(b,2);b=V(b,3);if(c)try{a:{for(var d=this.J,e=d.C.Di(),f=0;f<e;f++)if(d.C.nf(f).fb()==c){d.C.hf(f);break a}throw Error("Unrecognized engine type");}}catch(h){}b&&dId(this,b);a&&LFd(this.D,a)}else LFd(this.D,"")};p.Zoa=n(2);
p.mSb=function(){var a=this,b=this.J.F,c=new bId("Script ID");Bq(c,"Add existing script");c.C.setContent("Add");c.mb(b);this.xa(c);c.setVisible(!0);sf(c.getResult(),function(){return C(c)}).then(function(b){return dId(a,b)},ba())};
function dId(a,b){if(!a.isDisposed()){var c=a.J;c.F=b||"";YHd(c);c=a.D;if(b){c.ib(!1);var d=new yp;var e=d.ue("a",{href:qDd(b),target:"_blank"});e=e+"Edit your existing script by viewing it in Plx"+d.ye("a");d=d.format(e);td(c.$a("waffle-dataconnector-textarea-editor-overlay-message"),d);c.ib(!1);JFd(c,!0)}else c.ib(!0),JFd(c,!1);LA(b?"Script added":"Script removed");a.w$()}}p.MOb=function(){dId(this,null)};function eId(){}q(eId,nr);eId.prototype.Ma=function(a){a=a.qa().Ma("DIV","waffle-dataconnector-close-badge");kr(a,kFd);return a};eId.prototype.xc=n("waffle-dataconnector-close-badge");ta(eId);function fId(){pr.call(this,void 0,eId.getInstance())}q(fId,pr);function gId(){return P('<div class="'+Q("waffle-dataconnector-linked-script-chip")+'"><div class="'+Q("waffle-dataconnector-linked-script-chip-content")+'" tabindex="0"></div><div class="'+Q("waffle-dataconnector-linked-script-chip-close-badge-wrapper")+'"></div></div>')};function hId(a,b){M.call(this,b);this.D=a;this.C=new fId;ok(this.C,"Remove script");this.Qa(this.C)}q(hId,M);hId.prototype.Ma=function(){this.wb=N(gId);var a=this.$a("waffle-dataconnector-linked-script-chip-content");var b=this.D;b=this.qa().Ma("A",{href:qDd(b),target:"_blank"},b);a.appendChild(b)};
hId.prototype.Wa=function(){var a=this;M.prototype.Wa.call(this);this.C.render(this.$a("waffle-dataconnector-linked-script-chip-close-badge-wrapper"));var b="Linked plx script: "+this.D;Eh(this.$a("waffle-dataconnector-linked-script-chip-content"),b);this.getHandler().R(this.C,"action",function(){return a.dispatchEvent("Ve")})};function iId(){var a=P,b='<div class="'+Q("waffle-dataconnector-plxqueryeditormodule")+'"><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-sidebar")+'"><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-sidebar-header")+'">Plx</div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-link-script-button-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-script-chip-wrapper")+'"></div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-engine-select-wrapper")+
'"></div></div><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-main")+'"><div class="'+Q("waffle-dataconnector-plxqueryeditormodule-editor-wrapper")+'"></div>';var c=P('<div class="'+Q("waffle-dataconnector-queryeditor-sharing-message-container")+'"><div class="'+Q("waffle-dataconnector-queryeditor-sharing-message")+'"></div></div>');return a(b+O(c)+"</div></div>")};function jId(){var a='<div class="'+Q("waffle-dataconnector-sqleditor")+'"><div class="'+Q("waffle-dataconnector-sqleditor-textareawrapper")+'"><div class="'+Q("waffle-dataconnector-sqleditor-overlay")+'"><div class="'+Q("waffle-dataconnector-sqleditor-overlay-message")+'"></div></div><textarea class="'+Q("waffle-dataconnector-sqleditor-textarea")+'" spellcheck="false" aria-label="';a+=zr("Enter your query");a+='"></textarea><div class="'+Q("waffle-dataconnector-sqleditor-linegutter")+'"></div></div></div>';
return P(a)};function kId(a,b){a=void 0===a?"":a;M.call(this,b);this.Xd=!0;this.D=!1;this.J=a;this.F=this.C=null;this.H=new UT;this.Qa(this.H)}q(kId,M);kId.prototype.Ma=function(){this.wb=N(jId)};
kId.prototype.Wa=function(){var a=this;M.prototype.Wa.call(this);this.C=this.$a("waffle-dataconnector-sqleditor-textarea");this.C.value=this.J;this.F=new Js(this.C);this.xa(this.F);this.F.Rd(this);this.getHandler().R(this.C,"focus",function(){return lId(a,!0)}).R(this.C,"blur",function(){return lId(a,!1)});this.H.render(this.$a("waffle-dataconnector-sqleditor-textareawrapper"));mId(this);nId(this,!1)};
function mId(a){a.C.disabled=!a.Xd||a.D;Lh(a.qb(),"waffle-dataconnector-sqleditor-disabled",!a.Xd||a.D);VT(a.H,a.D)}kId.prototype.ib=function(a){this.D||a==this.Xd||(this.Xd=a,this.Sb()&&mId(this))};kId.prototype.isEnabled=g("Xd");function oId(a){a.D=!0;a.Sb()&&mId(a)}function nId(a,b){L(a.$a("waffle-dataconnector-sqleditor-overlay"),b)}function lId(a,b){Lh(a.qb(),"waffle-dataconnector-sqleditor-focused",b)};function pId(a,b,c){iHd.call(this,c);var d=this;this.H=this.J=null;this.F=new KU("Add existing script");this.Qa(this.F);this.D=new rU;this.D.setContent("Engine");qId(this);this.D.hf(0);this.Qa(this.D);this.C=new kId(void 0,this.qa());this.Qa(this.C);this.L=new KU;this.L.Od("waffle-dataconnector-plxqueryeditormodule-preview-button");this.Qa(this.L);this.O=new Ui(function(){rId(d,null)});this.xa(this.O);b&&(this.F.ib(!1),oId(this.C),sf(b.then(function(a){var b=V(a,2),c=V(b,1);a=V(b,3);b=V(b,2);var e=
d.C;c=c||"";e.isDisposed()||(e.D=!1,e.Sb()?(e.C.value=c,mId(e)):e.J=c);rId(d,a);b&&d.D.mb(b);d.F.ib(!0)},ba()),function(){d.dispatchEvent("Pe")}))}q(pId,iHd);pId.prototype.Ma=function(){this.wb=N(iId)};
pId.prototype.Wa=function(){var a=this;iHd.prototype.Wa.call(this);this.C.render(this.$a("waffle-dataconnector-plxqueryeditormodule-editor-wrapper"));this.L.render(this.$a("waffle-dataconnector-queryeditor-sharing-message-container"));this.F.render(this.$a("waffle-dataconnector-plxqueryeditormodule-link-script-button-wrapper"));this.D.render(this.$a("waffle-dataconnector-plxqueryeditormodule-engine-select-wrapper"));this.getHandler().R(this.C,"input",function(){a.dispatchEvent("Pe")}).R(this.F,"action",
function(){return sId(a)}).R(this,"Ve",function(){a.O.start()}).R(this.D,"aftershow",function(a){return a.stopPropagation()})};function WGd(a){var b=a.C.C.value;if(!b&&!a.J)return null;var c=new W1,d=new S1;a.J?W(d,3,a.J):(W(d,1,b),a=a.D.bf().fb(),W(d,2,a));W(c,2,d);return c}function qId(a){for(var b=ha(oc(tId)),c=b.next();!c.done;c=b.next())c=c.value,a.D.Fd(new Ek(c.caption,c.value))}
function sId(a){var b=new bId("Script ID");Bq(b,"Add existing script");b.C.setContent("Add");a.xa(b);b.setVisible(!0);sf(sf(b.getResult(),function(){return C(b)}).then(function(b){return rId(a,b)},ba()),function(){(null!=a.J?a.H.qb():a.D.qb()).focus()})}
function rId(a,b){if(!a.isDisposed()){a.J=b;var c=!!b;a.C.ib(!c);a.D.ib(!c);a.F.setVisible(!c);a.F.ib(!c);C(a.H);a.H=null;if(b){a.H=new hId(b);a.Qa(a.H);a.H.render(a.$a("waffle-dataconnector-plxqueryeditormodule-script-chip-wrapper"));c=new yp;var d=c.ue("a",{href:qDd(b),target:"_blank"});d=d+"Edit your existing script by viewing it in Plx"+c.ye("a");c=c.format(d);a.C.ib(!1);d=a.C;td(d.$a("waffle-dataconnector-sqleditor-overlay-message"),c);nId(d,!0)}else a.C.ib(!0),nId(a.C,!1);LA(b?"Script added":
"Script removed");a.dispatchEvent("Pe")}}var uId=Object.freeze({caption:"Dremel",value:"DREMEL"}),vId=Object.freeze({caption:"F1",value:"F1"}),wId=Object.freeze({caption:"Procella",value:"PROCELLA"}),tId={W_a:uId,v0a:vId,u3a:wId};function xId(a,b,c){this.C=a;this.D=b;this.Fb=new Nd;this.Nb=c}function yId(a,b,c){return new UHd(b,c,uB,function(a){return zId(b,a)},new D2(a.C,a.Fb),a.Nb,new NHd(b,a.D),void 0,a.Fb)}function AId(a,b,c,d,e){a=new UHd(b,c,vB,function(a){return BId(d,a)},new D2(a.C,a.Fb),a.Nb,new NHd(b,a.D),void 0,a.Fb);wGd(a,e);return a}
function CId(a,b){if(J(H(),"fenqeu"))return new cId(b,uB,function(a){return zId(b,a)},new D2(a.C,a.Fb),a.Nb,void 0,a.Fb);var c=new pId(b,void 0,a.Fb);return new UGd(b,c,uB,function(a){return zId(b,a)},a.C,void 0,a.Fb)}function DId(a,b,c,d){if(J(H(),"fenqeu"))return a=new cId(b,vB,function(a){return BId(c,a)},new D2(a.C,a.Fb),a.Nb,void 0,a.Fb),wGd(a,d),a;d=new pId(b,d,a.Fb);return new UGd(b,d,vB,function(a){return BId(c,a)},a.C,void 0,a.Fb)}
function EId(a,b,c){return new KHd(c,b,uB,function(a){return zId(b,a)},new D2(a.C,a.Fb),a.Nb,new IEd(a.D,b),void 0,a.Fb)}function FId(a,b,c,d,e){a=new KHd(c,b,vB,function(a){return BId(d,a)},new D2(a.C,a.Fb),a.Nb,new IEd(a.D,b),void 0,a.Fb);wGd(a,e);return a}function zId(a,b){var c=new a2;W(c,1,a);W(c,2,b);return c}function BId(a,b){var c=new k2;W(c,1,a);W(c,2,b);return c};function GId(a,b,c,d,e){var f="Error in query on "+d;d=new NEd;d.Od("waffle-dataconnector-error-popup");Bq(d,f);d.C.setContent("Open query editor");d.J.setContent("Ok");a=10==a?CFd(e):yFd(c,a,b);Cq(d,a);return d};function HId(a,b,c,d,e,f){A.call(this);this.O=new rFd;this.xa(this.O);this.Aa=a;this.J=a.Mb;this.H=tEd.getInstance();this.Na=new RGd(this.H);this.D=b;this.ma=c;this.Nb=d;this.L=new xId(e,this.H,this.Nb);this.F=null;this.V=new E;this.xa(this.V);this.C=null;this.bb=new Ph(this);this.xa(this.bb);this.hc=new Te(this);this.xa(this.hc);this.$=new sGd;this.xa(this.$);b=Cgc();a=new Xt(Dgc.concat(["waffle-dataconnector-connection-selected"]));c=Dgc.concat(["waffle-dataconnector-active-sheet-db-connection",
"sheet-access-no-protected-range-for-sheet"]);b||c.push("waffle-dataconnector-active-sheet-not-plx");b=new Xt(c);f.C(uB,kQ).D(uB,kQ).C(vB,kQ).D(vB,kQ).C(q6a,kQ).D(q6a,kQ).C(l6a,kQ).C(yB,b).D(yB,b).C(wB,b).D(wB,b).C(xB,kQ).C(zB,a).C(p6a,b);this.bb.R(this.V,["show","hide"],this.Esb).R(this.D,"ub",this.eOb).R(this.D,"vb",this.MFb).R(this.D,"Nb",this.KFb).R(this.Aa,"db-execution-status-updated",this.dOb);this.hc.subscribe(l6a,"action",this.yga).subscribe(xB,"action",this.ECb).subscribe(uB,"action",this.Frb).subscribe(yB,
"action",this.MDb).subscribe(wB,"action",this.ORa).subscribe(vB,"action",this.Utb).subscribe(q6a,"action",this.RCb).subscribe(zB,"action",this.rrb).subscribe(p6a,"action",this.WAb);IId(this)}q(HId,A);p=HId.prototype;p.Pf=function(a){this.H.Pf(a)};function I2(a,b){C(a.F);a.F=b;a.F.Rd(a.V);b instanceof Aq?a.Nb.Xh(a.F):a.Nb.Xh(new Olb(a.F));a.F.render();a.F.setVisible(!0)}p.yga=function(){C(this.F);this.F=null};p.eOb=function(){IId(this)};p.MFb=function(){this.C&&(C(this.C),this.C=null,NP())};
p.KFb=function(){IId(this)};function IId(a){var b=a.D.C.C;if(b&&null!=b.F)if(null==a.C){b=a.D.C.C;var c=b.F,d=V(c,2);d=Znb(a.J,d);var e;2!=V(d,3)||Cgc()?e=d.getName():e="Database connection";a.C=new sFd(e,b.Ib(),V(c,1),a.O,a.D,a.ma);a.xa(a.C);a.C.show()}else tFd(a.C)}p.Esb=function(){this.F&&this.F.isVisible()||(xB.mb(null),zB.mb(null))};
p.lSb=function(){var a=new gFd;this.xa(a);I2(this,a);CEd(this.H).then(function(b){var c=[];Wv(b,1).forEach(function(a){c.push(cFd((new bFd).Ef(a.getId()).Re(a.getName()).setType(V(a,3))).build())});a.isDisposed()||(iFd(a,c),hFd(a,!1))})};
p.H9a=function(){var a=this,b=tp.getInstance().postMessage(vp("Connecting to Plx...","info",!0));tf(sf(JId(this,"Plx",2).then(function(b){b=new ZEd(b,2);a.xa(b);I2(a,b)}),function(){return up(tp.getInstance(),b)}),function(){return tp.getInstance().postMessage(vp("Could not connect to Plx","error",!0))})};p.G9a=function(){var a=this,b=new yDd;this.xa(b);I2(this,b);sf(b.getResult().then(function(b){b&&KId(a)},ba()),function(){return C(b)})};
function KId(a){var b=tp.getInstance().postMessage(vp("Connecting to BigQuery...","info",!0)),c;tf(sf(JId(a,"BigQuery",3).then(function(b){c=b;return MEd(new IEd(a.H,b))}).then(function(b){LId(a,c,b)}),function(){return up(tp.getInstance(),b)}),function(){return tp.getInstance().postMessage(vp("Could not connect to BigQuery","error",!0))})}function LId(a,b,c){c=new oEd(c);var d=new rEd(c);a.xa(d);I2(a,d);d.getResult().then(function(c){c=EId(a.L,b,c);a.xa(c);I2(a,c)},function(){return C(d)})}
function JId(a,b,c){var d=new X1;d.Re(b);W(d,2,c);return uEd(a.H,d).then(function(a){return V(a,2)})}function MId(a,b){var c=tp.getInstance().postMessage(vp("Importing connection...","info",!0)),d=new Y1;d.Ef(b);d.setType(1);return sf(wEd(a.H,d),function(){return up(tp.getInstance(),c)})}p.RCb=function(){var a=this.F,b=a.F;switch(a.C){case 2:NId(this,b);break;case 1:OId(this,b)}};function OId(a,b){var c=Znb(a.J,b).getName();b=yId(a.L,b,c);a.xa(b);I2(a,b)}
function NId(a,b){b=CId(a.L,b);a.xa(b);I2(a,b)}p.rrb=function(){var a=this,b=zB.fb(),c=b.getId(),d=b.getType();switch(d){case 2:NId(this,c);break;case 1:Znb(this.J,b.getId())?OId(this,c):MId(this,c).then(function(){OId(a,c)},ba());break;default:throw Error("Unsupported connection type: "+d);}};p.ECb=function(a){var b=this.F;b.CRa();var c=V(a,2);OGd(PGd(NGd(SGd(this.Na,a),function(a){b.isDisposed()||b.yRa(a,c)}),function(a){b.isDisposed()||b.xRa(a)}),function(a){b.isDisposed()||b.wRa(a)}).start()};
p.Frb=function(a){var b=this,c=this.F;vEd(this.H,a).then(function(a){var c=V(a,2),d=a.Bj();b.O.C[c]=d;PId(b,a)},function(a){c.isDisposed()||c.Cpa(a)});c.Epa()};function PId(a,b){var c=ec(b.Ib());Number.isNaN(c);a.yga();XA(a.D.C,c)?VA(a.D.C)==c?IId(a):ZG(a.D,c):a.bb.Wc(a.D,["Fb","ub"],function(b){"Fb"==b.type&&b.Fh==c&&ZG(a.D,c)})}p.MDb=function(){QId(this,KI(this.D.C))};
function QId(a,b){var c=XA(a.D.C,b).F,d=new f2;W(d,1,b.toString());AEd(a.H,d).then(function(d){var e=V(c,1);d=d.Bj();a.O.C[e]=d;a.C&&!a.C.isDisposed()&&a.C.Ib()==b&&tFd(a.C)},function(c){var d=V(c.Bj(),2);c=V(c.Bj(),3);a.C&&!a.C.isDisposed()&&a.C.Ib()==b&&pFd(a.C.C,!1,!0);RId(a,b,d,c)});qFd(a.C.C)}
function RId(a,b,c,d){var e=XA(a.D.C,b),f=e&&e.F;if(f){e=e.Zd();f=SId(a,f);var h="waffle-dataconnector-ssologin-"+$b(),k=GId(c,d,f,e,h);a.xa(k);a.Nb.Xh(k);k.render();k.setVisible(!0);sf(k.getResult().then(function(){return a.ORa(b)},ba()),function(){return C(k)});(c=Pd(h))&&v2.prototype.getHandler.call(k).R(c,"click",function(){TId(a,b,k)})}}function TId(a,b,c){tGd(a.$,function(){C(c);QId(a,b)})}
p.ORa=function(a){if((a=void 0!==a?XA(this.D.C,a):this.D.C.C)&&null!=a.F){var b=a.F;a=V(b,2);b=V(b,1);switch(V(Znb(this.J,a),3)){case 2:a=DId(this.L,a,b,UId(this,b));this.xa(a);I2(this,a);break;case 1:var c=Znb(this.J,a).getName();a=AId(this.L,a,c,b,UId(this,b));this.xa(a);I2(this,a);break;case 3:VId(this,a,b)}}};function VId(a,b,c){MEd(new IEd(a.H,b)).then(function(d){d=FId(a.L,b,new oEd(d),c,UId(a,c));a.xa(d);I2(a,d)})}
function UId(a,b){var c=rf(),d=new iEd;W(d,1,b);FEd(a.H,d).then(function(a){V(a,1)?c.resolve(V(a,2)):c.reject()},function(a){return c.reject(a)});return c.C}p.Utb=function(a){var b=this,c=V(a,1),d=this.F;BEd(this.H,a).then(function(a){a=a.Bj();b.O.C[c]=a;a=ritz_api.DbxApi.getSheetIdForQuery(c);ZG(b.D,parseInt(a,10));b.yga();tFd(b.C)},function(a){d.isDisposed()||d.Cpa(a)});d.Epa()};function SId(a,b){b=V(b,2);a=a.J.C[b];b=V(a,3);a.getName();return b}
p.dOb=function(a){a.F&&0!=a.F.length&&this.C&&bb(a.F,this.C.D)&&tFd(this.C)};p.WAb=function(){var a=this,b=this.D.C.C,c=V(b.F,1),d=new lEd;W(d,1,c);this.H.Bj(d).then(function(c){(c=c.Bj())&&3==c.getState()&&RId(a,b.Ib(),V(c,2),V(c,3))})};function WId(){A.call(this)}q(WId,AA);WId.prototype.C=function(){return HId};GA("dataconnector",WId);
